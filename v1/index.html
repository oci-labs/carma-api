<!DOCTYPE html><html><head><meta charset="utf-8"><title>Carmageddon Back End API - version 1.0.0</title><link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css"><link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:400,700|Inconsolata|Raleway:200"><style>/* Highlight.js Theme Tomorrow */
.hljs-comment,.hljs-title{color:#8e908c}.hljs-variable,.hljs-attribute,.hljs-tag,.hljs-regexp,.ruby .hljs-constant,.xml .hljs-tag .hljs-title,.xml .hljs-pi,.xml .hljs-doctype,.html .hljs-doctype,.css .hljs-id,.css .hljs-class,.css .hljs-pseudo{color:#c82829}.hljs-number,.hljs-preprocessor,.hljs-pragma,.hljs-built_in,.hljs-literal,.hljs-params,.hljs-constant{color:#f5871f}.ruby .hljs-class .hljs-title,.css .hljs-rules .hljs-attribute{color:#eab700}.hljs-string,.hljs-value,.hljs-inheritance,.hljs-header,.ruby .hljs-symbol,.xml .hljs-cdata{color:#718c00}.css .hljs-hexcolor{color:#3e999f}.hljs-function,.python .hljs-decorator,.python .hljs-title,.ruby .hljs-function .hljs-title,.ruby .hljs-title .hljs-keyword,.perl .hljs-sub,.javascript .hljs-title,.coffeescript .hljs-title{color:#4271ae}.hljs-keyword,.javascript .hljs-function{color:#8959a8}.hljs{display:block;background:white;color:#4d4d4c;padding:.5em}.coffeescript .javascript,.javascript .xml,.tex .hljs-formula,.xml .javascript,.xml .vbscript,.xml .css,.xml .hljs-cdata{opacity:.5}</style><style>body,
h4,
h5 {
  font-family: 'Roboto' sans-serif !important;
}
h1,
h2,
h3,
.aglio {
  font-family: 'Raleway' sans-serif !important;
}
h1 a,
h2 a,
h3 a,
h4 a,
h5 a {
  display: none;
}
h1:hover a,
h2:hover a,
h3:hover a,
h4:hover a,
h5:hover a {
  display: inline;
}
code {
  color: #444;
  background-color: #ddd;
  font-family: 'Inconsolata' monospace !important;
}
a[data-target] {
  cursor: pointer;
}
h4 {
  font-size: 100%;
  font-weight: bold;
  text-transform: uppercase;
}
.back-to-top {
  position: fixed;
  z-index: 1;
  bottom: 0px;
  right: 24px;
  padding: 4px 8px;
  background-color: #eee;
  text-decoration: none !important;
  border-top: 1px solid rgba(0,0,0,0.1);
  border-left: 1px solid rgba(0,0,0,0.1);
  border-right: 1px solid rgba(0,0,0,0.1);
  border-top-left-radius: 3px;
  border-top-right-radius: 3px;
}
.panel {
  overflow: hidden;
}
.panel-heading code {
  margin-left: 3px;
  color: #c7254e;
  background-color: rgba(255,255,255,0.7);
  white-space: pre-wrap;
  white-space: -moz-pre-wrap;
  white-space: -pre-wrap;
  white-space: -o-pre-wrap;
  word-wrap: break-word;
}
.panel-heading h3 {
  margin-top: 10px;
  margin-bottom: 10px;
}
a.list-group-item:hover {
  background-color: #f8f8f8;
  border-left: 2px solid #555;
  padding-left: 15px;
}
.indent {
  display: block;
  text-indent: 16px;
}
.list-group-item {
  padding-left: 16px;
}
.list-group-item .toggle .open {
  display: block;
}
.list-group-item .toggle .closed {
  display: none;
}
.list-group-item.collapsed .toggle .open {
  display: none;
}
.list-group-item.collapsed .toggle .closed {
  display: block;
}
a.list-group-item {
  font-size: 13px;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
}
a.list-group-item.heading {
  font-size: 15px;
  background-color: #f5f5f5;
}
a.list-group-item.heading:hover {
  background-color: #f8f8f8;
}
.list-group-item.collapse {
  display: none;
}
.list-group-item.collapse.in {
  display: block;
}
.list-group-item a span.closed {
  display: none;
}
.list-group-item a span.open {
  display: block;
}
.list-group-item a.collapsed span.closed {
  display: block;
}
.list-group-item a.collapsed span.open {
  display: none;
}
#nav {
  width: inherit;
  margin-top: 38px;
  max-width: 255px;
  top: 0;
  bottom: 0;
  padding-right: 12px;
  padding-bottom: 12px;
  overflow-y: auto;
}
@media (max-width: 1199px) {
  #nav {
    max-width: 212px;
  }
}
</style></head><body><a href="#top" class="text-muted back-to-top"><i class="fa fa-toggle-up"></i>&nbsp;Back to top</a><div class="container"><div class="row"><div class="col-md-3"><nav id="nav" class="hidden-sm hidden-xs affix nav"><div class="list-group"><a data-toggle="" data-target="#city-menu" href="#city" class="list-group-item heading collapsed">City</a><div id="city-menu"><a href="#city-cities-collection" style="border-top-left-radius: 0; border-top-right-radius: 0" class="list-group-item"><span class="badge alert-info"><i class="fa fa-arrow-down"></i></span>Cities Collection</a><a href="#city-cities-search" style="border-top-left-radius: 0; border-top-right-radius: 0" class="list-group-item"><span class="badge alert-info"><i class="fa fa-arrow-down"></i></span>Cities Search</a><a href="#city-city" style="border-top-left-radius: 0; border-top-right-radius: 0" class="list-group-item"><span class="badge alert-info"><i class="fa fa-arrow-down"></i></span>City</a><a href="#city-city-stations" style="border-top-left-radius: 0; border-top-right-radius: 0" class="list-group-item"><span class="badge alert-info"><i class="fa fa-arrow-down"></i></span>City Stations</a></div></div><div class="list-group"><a data-toggle="" data-target="#station-menu" href="#station" class="list-group-item heading collapsed">Station</a><div id="station-menu"><a href="#station-stations-collection" style="border-top-left-radius: 0; border-top-right-radius: 0" class="list-group-item"><span class="badge alert-info"><i class="fa fa-arrow-down"></i></span>Stations Collection</a><a href="#station-stations-search" style="border-top-left-radius: 0; border-top-right-radius: 0" class="list-group-item"><span class="badge alert-info"><i class="fa fa-arrow-down"></i></span>Stations Search</a><a href="#station-station" style="border-top-left-radius: 0; border-top-right-radius: 0" class="list-group-item"><span class="badge alert-info"><i class="fa fa-arrow-down"></i></span>Station</a><a href="#station-station-revenue" style="border-top-left-radius: 0; border-top-right-radius: 0" class="list-group-item"><span class="badge alert-info"><i class="fa fa-arrow-down"></i></span>Station Revenue</a><a href="#station-station-events" style="border-top-left-radius: 0; border-top-right-radius: 0" class="list-group-item"><span class="badge alert-info"><i class="fa fa-arrow-down"></i></span>Station Events</a></div></div><div class="list-group"><a data-toggle="" data-target="#pump-menu" href="#pump" class="list-group-item heading collapsed">Pump</a><div id="pump-menu"><a href="#pump-pump-collection" style="border-top-left-radius: 0; border-top-right-radius: 0" class="list-group-item"><span class="badge alert-info"><i class="fa fa-arrow-down"></i></span>Pump Collection</a><a href="#pump-pumps-search" style="border-top-left-radius: 0; border-top-right-radius: 0" class="list-group-item"><span class="badge alert-info"><i class="fa fa-arrow-down"></i></span>Pumps Search</a><a href="#pump-pump" style="border-top-left-radius: 0; border-top-right-radius: 0" class="list-group-item"><span class="badge alert-info"><i class="fa fa-arrow-down"></i></span>Pump</a><a href="#pump-pump-revenue" style="border-top-left-radius: 0; border-top-right-radius: 0" class="list-group-item"><span class="badge alert-info"><i class="fa fa-arrow-down"></i></span>Pump Revenue</a><a href="#pump-pump-events" style="border-top-left-radius: 0; border-top-right-radius: 0" class="list-group-item"><span class="badge alert-info"><i class="fa fa-arrow-down"></i></span>Pump Events</a></div></div><div class="list-group"><a data-toggle="" data-target="#tank-menu" href="#tank" class="list-group-item heading collapsed">Tank</a><div id="tank-menu"><a href="#tank-tank-collection" style="border-top-left-radius: 0; border-top-right-radius: 0" class="list-group-item"><span class="badge alert-info"><i class="fa fa-arrow-down"></i></span>Tank Collection</a><a href="#tank-tanks-search" style="border-top-left-radius: 0; border-top-right-radius: 0" class="list-group-item"><span class="badge alert-info"><i class="fa fa-arrow-down"></i></span>Tanks Search</a><a href="#tank-tank" style="border-top-left-radius: 0; border-top-right-radius: 0" class="list-group-item"><span class="badge alert-info"><i class="fa fa-arrow-down"></i></span>Tank</a><a href="#tank-tank-events" style="border-top-left-radius: 0; border-top-right-radius: 0" class="list-group-item"><span class="badge alert-info"><i class="fa fa-arrow-down"></i></span>Tank Events</a></div></div></nav></div><div class="col-md-8"><div><header><div class="page-header"><h1 id="top">Carmageddon Back End API - version 1.0.0</h1></div></header><div class="description"><p>The <strong>Carmageddon Back End API</strong> provides access to acquire data
about cities, stations, pumps, and tanks used in the Carmageddon
demonstration scenario.  This API is used by the demonstration client
to obtain information about the corporate resources, their locations,
and processed analytic results.</p>
<p>The base URI for version 1 of the API is:</p>
<pre><code>    http://api.carma.demo.ociweb.com/v1/...
</code></pre>
<p>The base URI includes the protocol, hostname and port, and a prefix path
to the endpoint URIs.  The prefix path includes the interface version of
the API being accessed.  Note that any changes to an existing version of
the API will only extend it with additional parameters and endpoints,
allowing existing clients to continue operation without modification when
accessing the API.</p>
<h2>Versions</h2>
<p>Version numbering for the API is based on semantic versioning
(<a href="http://semver.org/">http://semver.org/</a>) and a client written to a major version is guaranteed
to continue working for all subsequent minor and patch versions.</p>
<p>The current major version will always be available along with the
immediately preceding major version.  The major version 2 levels previous
will be deprecated on release of a new major version and then obsoleted
on the release of the next version.</p>
<p>This means that there will always be the current and two preceding
versions of the API available for use.  Use of the current version is
always encouraged.</p>
<h2>Data Formats</h2>
<p>All data that is sent to or received from the Carmageddon Back End API
is JSON encoded.  The structure of the JSON data is defined as conforming
to a specific schema that is well defined.  The schema syntax followed is
defined at <a href="http://json-schema.org/">http://json-schema.org/</a> and is itself defined in JSON format.</p>
<h3>Media Type</h3>
<p>The Carmageddon Back End API includes a media type to be used by the
‘Content-Type’ header to define the data being transfered from or to
the server.</p>
<p>The API specific type for a pure JSON message content includes a required
<code>profile</code> parameter that refers to the URI for the JSON schema definition.</p>
<ul>
<li><p><code>application/prs.com.ociweb.demo.carma+json;profile=&lt;schema-URL&gt;</code></p>
<p>this media-type is for JSON data and includes a required <code>profile</code>
parameter.  The <code>profile</code> parameter value is used to define the
allowable contents of the message data.</p></li>
</ul>
<h3>Schemas</h3>
<p>Data schemas are defined using the <a href="http://json-schema.org">http://json-schema.org</a> schema
definition mechanism.  The schema JSON is available for use as
documentation or for validation at the URIs given in the following
sections.</p>
<p>The value of the <code>profile</code> parameter used in the media type definition
is the URL to reach the file used to store the schema.  The <code>profile</code>
parameter values are used with the media types in the API description
below to avoid repeating the schema description for each URI.</p>
<h4>Collection Data</h4>
<p>The collection data schema is used for data that includes more than one
element in the message.  The contained data elements are described using
their own schemas described below, but the container schema describes how
the multiple elements are included in the message.</p>
<p>Collection data is an object that contains some definition information
along with an array of data elements.  The data type of the elements is
defined by the schema pointed to using the <code>contentSchema</code> URI property of
the collection.  The property holds a valid URI to the schema definition
and the relationship of the property is a <code>describedBy</code> relationshop as
defined in RFC5988 (<a href="http://tools.ietf.org/html/rfc5988">http://tools.ietf.org/html/rfc5988</a>).  Inclusion of
the <code>contentSchema</code> property is optional and can be inferred for most API
calls.</p>
<p>The <code>data</code> property of the collection holds an array of elements of the
same type.  The type of data must be one of the valid API schemas as
defined in this document.</p>
<p>The collection schema description filename and the media type parameter
value is:</p>
<ul>
<li><code>http://oci-labs.github.io/carma-api/schemas/collection.json</code></li>
</ul>
<pre><code>        {
          &quot;$schema&quot;: &quot;http://json-schema.org/draft-04/schema#4&quot;,
          &quot;title&quot;: &quot;Collection&quot;,
          &quot;description&quot;: &quot;Contains multiple elements of another type&quot;,
          &quot;type&quot;: &quot;object&quot;,
          &quot;properties&quot;: {
            &quot;contentSchema&quot;: {
              &quot;description&quot;: &quot;URI of the schema describing elements of the collection&quot;,
              &quot;type&quot;: &quot;string&quot;
            },
            &quot;data&quot;: {
              &quot;description&quot;: &quot;array of elements&quot;,
              &quot;type&quot;: &quot;array&quot;,
              &quot;items&quot;: {
                &quot;description&quot;: &quot;element of the collection&quot;,
                &quot;type&quot;: &quot;object&quot;,
                &quot;oneOf&quot;: [
                  { &quot;$ref&quot;: &quot;city.json#&quot; },
                  { &quot;$ref&quot;: &quot;errordata.json#&quot; },
                  { &quot;$ref&quot;: &quot;event.json#&quot; },
                  { &quot;$ref&quot;: &quot;price.json#&quot; },
                  { &quot;$ref&quot;: &quot;pump.json#&quot; },
                  { &quot;$ref&quot;: &quot;revenue.json#&quot; },
                  { &quot;$ref&quot;: &quot;station.json#&quot; },
                  { &quot;$ref&quot;: &quot;tank.json#&quot; }
                ]
              }
            }
          },
          &quot;required&quot;: [&quot;data&quot;]
        }
</code></pre>
<h4>City Data</h4>
<p>The city data schema description filename and the media type parameter
value is:</p>
<ul>
<li><code>http://oci-labs.github.io/carma-api/schemas/city.json</code></li>
</ul>
<pre><code>        {
          &quot;$schema&quot;: &quot;http://json-schema.org/draft-04/schema#4&quot;,
          &quot;title&quot;: &quot;City&quot;,
          &quot;description&quot;: &quot;Describes information about cities&quot;,
          &quot;type&quot;: &quot;object&quot;,
          &quot;properties&quot;: {
            &quot;id&quot;: {
              &quot;description&quot;: &quot;unique identifier for this city&quot;,
              &quot;type&quot;: &quot;string&quot;
            },
            &quot;order&quot;: {
              &quot;description&quot;: &quot;externally defined ordering of this city in a list&quot;,
              &quot;type&quot;: &quot;number&quot;
            },
            &quot;zoom&quot;: {
              &quot;description&quot;: &quot;initial zoom level to use when showing the city on a map&quot;,
              &quot;type&quot;: &quot;number&quot;
            },
            &quot;city&quot;: {
              &quot;description&quot;: &quot;name of the city used for user viewable labels&quot;,
              &quot;type&quot;: &quot;string&quot;
            },
            &quot;state&quot;: {
              &quot;description&quot;: &quot;state abbreviation for the city&quot;,
              &quot;type&quot;: &quot;string&quot;
            },
            &quot;lat&quot;: {
              &quot;description&quot;: &quot;latitude of the city center&quot;,
              &quot;type&quot;: &quot;number&quot;
            },
            &quot;lon&quot;: {
              &quot;description&quot;: &quot;longitude of the city center&quot;,
              &quot;type&quot;: &quot;number&quot;
            }
          },
          &quot;required&quot;: [ &quot;id&quot;, &quot;order&quot;, &quot;zoom&quot;, &quot;city&quot;, &quot;state&quot;, &quot;lat&quot;, &quot;lon&quot; ]
        }
</code></pre>
<h4>Station Data</h4>
<p>The station data schema description filename and the media type parameter
value is:</p>
<ul>
<li><code>http://oci-labs.github.io/carma-api/schemas/station.json</code></li>
</ul>
<pre><code>        {
          &quot;$schema&quot;: &quot;http://json-schema.org/draft-04/schema#4&quot;,
          &quot;title&quot;: &quot;Station&quot;,
          &quot;description&quot;: &quot;Describes information about stations&quot;,
          &quot;type&quot;: &quot;object&quot;,
          &quot;properties&quot;: {
            &quot;id&quot;: {
              &quot;description&quot;: &quot;unique identifier for this station&quot;,
              &quot;type&quot;: &quot;string&quot;
            },
            &quot;city&quot;: {
              &quot;description&quot;: &quot;viewable city name where the station is located&quot;,
              &quot;type&quot;: &quot;string&quot;
            },
            &quot;cityid&quot;: {
              &quot;description&quot;: &quot;unique identifier of the city where this station is located&quot;,
              &quot;type&quot;: &quot;string&quot;
            },
            &quot;lat&quot;: {
              &quot;description&quot;: &quot;latitude of station location&quot;,
              &quot;type&quot;: &quot;number&quot;
            },
            &quot;lon&quot;: {
              &quot;description&quot;: &quot;longitude of station location&quot;,
              &quot;type&quot;: &quot;number&quot;
            },
            &quot;tanks&quot;: {
                &quot;description&quot;: &quot;tanks located at this station&quot;,
                &quot;type&quot;: &quot;object&quot;,
                &quot;properties&quot;: {
                  &quot;regular&quot;: {
                    &quot;description&quot;: &quot;tankid value of the regular fuel tank located at this station&quot;,
                    &quot;type&quot;: &quot;string&quot;
                  },
                  &quot;premium&quot;: {
                    &quot;description&quot;: &quot;tankid value of the premium fuel tank located at this station&quot;,
                    &quot;type&quot;: &quot;string&quot;
                  },
                  &quot;diesel&quot;: {
                    &quot;description&quot;: &quot;tankid value of the diesel fuel tank located at this station&quot;,
                    &quot;type&quot;: &quot;string&quot;
                  }
                },
                &quot;required&quot;: [&quot;regular&quot;, &quot;premium&quot;]
            },
            &quot;pumps&quot;: {
              &quot;description&quot;: &quot;list of pumps located at this station&quot;,
              &quot;type&quot;: &quot;array&quot;,
              &quot;items&quot;: {
                &quot;description&quot;: &quot;pumpId values for pump located at this station&quot;,
                &quot;type&quot;: &quot;string&quot;
              }
            }
          },
          &quot;required&quot;: [&quot;id&quot;, &quot;city&quot;, &quot;cityid&quot;, &quot;lat&quot;, &quot;lon&quot;, &quot;tanks&quot;, &quot;pumps&quot;]
        }
</code></pre>
<h4>Pump Data</h4>
<p>The pump data schema description filename and the media type parameter
value is:</p>
<ul>
<li><code>http://oci-labs.github.io/carma-api/schemas/pump.json</code></li>
</ul>
<pre><code>        {
          &quot;$schema&quot;: &quot;http://json-schema.org/draft-04/schema#4&quot;,
          &quot;title&quot;: &quot;Pump&quot;,
          &quot;description&quot;: &quot;Describes information about pumps&quot;,
          &quot;type&quot;: &quot;object&quot;,
          &quot;properties&quot;: {
            &quot;id&quot;: {
              &quot;description&quot;: &quot;unique identifier for this pump&quot;,
              &quot;type&quot;: &quot;string&quot;
            },
            &quot;stationid&quot;: {
              &quot;description&quot;: &quot;unique identifier (reference) for the station where this pump is located&quot;,
              &quot;type&quot;: &quot;string&quot;
            }
          },
          &quot;required&quot;: [&quot;id&quot;,&quot;stationid&quot;]
        }
</code></pre>
<h4>Revenue Data</h4>
<p>The revenue data schema description filename and the media type parameter
value is:</p>
<ul>
<li><code>http://oci-labs.github.io/carma-api/schemas/revenue.json</code></li>
</ul>
<pre><code>        {
          &quot;$schema&quot;: &quot;http://json-schema.org/draft-04/schema#4&quot;,
          &quot;title&quot;: &quot;Revenue&quot;,
          &quot;description&quot;: &quot;Describes information about revenue&quot;,
          &quot;type&quot;: &quot;object&quot;,
          &quot;properties&quot;: {
            &quot;scope&quot;: {
              &quot;description&quot;: &quot;scope of the revenue result&quot;,
              &quot;enum&quot;: [&quot;company&quot;, &quot;city&quot;, &quot;station&quot;, &quot;pump&quot;]
            },
            &quot;id&quot;: {
              &quot;description&quot;: &quot;unique identifier for the scope of the revenue result&quot;,
              &quot;type&quot;: &quot;string&quot;
            },
            &quot;fuel&quot;: {
              &quot;description&quot;: &quot;fuel type for the revenue result&quot;,
              &quot;type&quot;: &quot;array&quot;,
              &quot;items&quot;: {
                &quot;description&quot;: &quot;fuel type included in the revenue result&quot;,
                &quot;enum&quot;: [&quot;any&quot;, &quot;regular&quot;, &quot;premium&quot;, &quot;diesel&quot;]
              }
            },
            &quot;from&quot;: {
              &quot;description&quot;: &quot;timestamp at beginning of interval for which revenue was collected&quot;,
              &quot;type&quot;: &quot;string&quot;
            },
            &quot;to&quot;: {
              &quot;description&quot;: &quot;timestamp at end of interval for which revenue was collected&quot;,
              &quot;type&quot;: &quot;string&quot;
            },
            &quot;amount&quot;: {
              &quot;description&quot;: &quot;revenue amount being reported&quot;,
              &quot;type&quot;: &quot;number&quot;
            }
          },
          &quot;required&quot;: [&quot;scope&quot;,&quot;id&quot;,&quot;fuel&quot;,&quot;amount&quot;]
        }
</code></pre>
<h4>Event Data</h4>
<p>The event data schema description filename and the media type parameter
value is:</p>
<ul>
<li><code>http://oci-labs.github.io/carma-api/schemas/event.json</code></li>
</ul>
<pre><code>        {
          &quot;$schema&quot;: &quot;http://json-schema.org/draft-04/schema#4&quot;,
          &quot;title&quot;: &quot;Event&quot;,
          &quot;description&quot;: &quot;Describes information about events&quot;,
          &quot;type&quot;: &quot;object&quot;,
          &quot;properties&quot;: {
            &quot;scope&quot;: {
              &quot;description&quot;: &quot;scope of the revenue result&quot;,
              &quot;enum&quot;: [&quot;company&quot;, &quot;city&quot;, &quot;station&quot;, &quot;pump&quot;,&quot;tank&quot;]
            },
            &quot;id&quot;: {
              &quot;description&quot;: &quot;unique identifier for the scope of the event list&quot;,
              &quot;type&quot;: &quot;string&quot;
            },
            &quot;events&quot;: {
              &quot;description&quot;: &quot;list of events&quot;,
              &quot;type&quot;: &quot;array&quot;,
              &quot;items&quot;: {
                &quot;description&quot;: &quot;type of event being reported&quot;,
                &quot;type&quot;: &quot;object&quot;,
                &quot;oneOf&quot;: [
                  { &quot;$ref&quot;: &quot;#/definitions/pumpfail&quot; },
                  { &quot;$ref&quot;: &quot;#/definitions/pumpactive&quot; },
                  { &quot;$ref&quot;: &quot;#/definitions/pumpinactive&quot; },
                  { &quot;$ref&quot;: &quot;#/definitions/tankleak&quot; },
                  { &quot;$ref&quot;: &quot;#/definitions/tankactive&quot; },
                  { &quot;$ref&quot;: &quot;#/definitions/tankinactive&quot; },
                  { &quot;$ref&quot;: &quot;#/definitions/tankfill&quot; }
                ]
              }
            }
          },
          &quot;required&quot;: [&quot;scope&quot;,&quot;id&quot;,&quot;events&quot;],
          &quot;definitions&quot;: {
            &quot;pumpfail&quot;: {
              &quot;properties&quot;: {
                &quot;type&quot;: { &quot;enum&quot;: [&quot;pumpfail&quot;] },
                &quot;id&quot;: {
                  &quot;description&quot;: &quot;unique identifier of the pump for this event&quot;,
                  &quot;type&quot;: &quot;string&quot;
                },
                &quot;when&quot;: {
                  &quot;description&quot;: &quot;whethis event occurred&quot;,
                  &quot;type&quot;: &quot;string&quot;
                }
              },
              &quot;required&quot;: [&quot;type&quot;,&quot;id&quot;,&quot;when&quot;]
            },
            &quot;pumpactive&quot;: {
              &quot;properties&quot;: {
                &quot;type&quot;: { &quot;enum&quot;: [&quot;pumprepaired&quot;] },
                &quot;id&quot;: {
                  &quot;description&quot;: &quot;unique identifier of the pump for this event&quot;,
                  &quot;type&quot;: &quot;string&quot;
                },
                &quot;when&quot;: {
                  &quot;description&quot;: &quot;when this event occurred&quot;,
                  &quot;type&quot;: &quot;string&quot;
                }
              },
              &quot;required&quot;: [&quot;type&quot;,&quot;id&quot;,&quot;when&quot;]
            },
            &quot;pumpinactive&quot;: {
              &quot;properties&quot;: {
                &quot;type&quot;: { &quot;enum&quot;: [&quot;pumprepaired&quot;] },
                &quot;id&quot;: {
                  &quot;description&quot;: &quot;unique identifier of the pump for this event&quot;,
                  &quot;type&quot;: &quot;string&quot;
                },
                &quot;when&quot;: {
                  &quot;description&quot;: &quot;when this event occurred&quot;,
                  &quot;type&quot;: &quot;string&quot;
                }
              },
              &quot;required&quot;: [&quot;type&quot;,&quot;id&quot;,&quot;when&quot;]
            },
            &quot;tankleak&quot;: {
              &quot;properties&quot;: {
                &quot;type&quot;: { &quot;enum&quot;: [&quot;tankleak&quot;] },
                &quot;id&quot;: {
                  &quot;description&quot;: &quot;unique identifier of the tank for this event&quot;,
                  &quot;type&quot;: &quot;string&quot;
                },
                &quot;rate&quot;: {
                  &quot;description&quot;: &quot;leakage rate that was detected&quot;,
                  &quot;type&quot;: &quot;number&quot;
                },
                &quot;when&quot;: {
                  &quot;description&quot;: &quot;when this event occurred&quot;,
                  &quot;type&quot;: &quot;string&quot;
                }
              },
              &quot;required&quot;: [&quot;type&quot;,&quot;id&quot;,&quot;rate&quot;,&quot;when&quot;]
            },
            &quot;tankactive&quot;: {
              &quot;properties&quot;: {
                &quot;type&quot;: { &quot;enum&quot;: [&quot;tankrepaired&quot;] },
                &quot;id&quot;: {
                  &quot;description&quot;: &quot;unique identifier of the tank for this event&quot;,
                  &quot;type&quot;: &quot;string&quot;
                },
                &quot;when&quot;: {
                  &quot;description&quot;: &quot;when this event occurred&quot;,
                  &quot;type&quot;: &quot;string&quot;
                }
              },
              &quot;required&quot;: [&quot;type&quot;,&quot;id&quot;,&quot;when&quot;]
            },
            &quot;tankinactive&quot;: {
              &quot;properties&quot;: {
                &quot;type&quot;: { &quot;enum&quot;: [&quot;tankrepaired&quot;] },
                &quot;id&quot;: {
                  &quot;description&quot;: &quot;unique identifier of the tank for this event&quot;,
                  &quot;type&quot;: &quot;string&quot;
                },
                &quot;when&quot;: {
                  &quot;description&quot;: &quot;when this event occurred&quot;,
                  &quot;type&quot;: &quot;string&quot;
                }
              },
              &quot;required&quot;: [&quot;type&quot;,&quot;id&quot;,&quot;when&quot;]
            },
            &quot;tankfill&quot;: {
              &quot;properties&quot;: {
                &quot;type&quot;: { &quot;enum&quot;: [&quot;tankfill&quot;] },
                &quot;id&quot;: {
                  &quot;description&quot;: &quot;unique identifier of the tank for this event&quot;,
                  &quot;type&quot;: &quot;string&quot;
                },
                &quot;when&quot;: {
                  &quot;description&quot;: &quot;when this event occurred&quot;,
                  &quot;type&quot;: &quot;string&quot;
                }
              },
              &quot;required&quot;: [&quot;type&quot;,&quot;id&quot;,&quot;when&quot;]
            }
          }
        }
</code></pre>
<h4>Tank Data</h4>
<p>The tank data schema description filename and the media type parameter
value is:</p>
<ul>
<li><code>http://oci-labs.github.io/carma-api/schemas/tank.json</code></li>
</ul>
<pre><code>        {
          &quot;$schema&quot;: &quot;http://json-schema.org/draft-04/schema#4&quot;,
          &quot;title&quot;: &quot;Tank&quot;,
          &quot;description&quot;: &quot;Describes information about tanks&quot;,
          &quot;type&quot;: &quot;object&quot;,
          &quot;properties&quot;: {
            &quot;id&quot;: {
              &quot;description&quot;: &quot;unique identifier for this tank&quot;,
              &quot;type&quot;: &quot;string&quot;
            },
            &quot;stationid&quot;: {
              &quot;description&quot;: &quot;unique identifier for the station where this tank is located&quot;,
              &quot;type&quot;: &quot;string&quot;
            },
            &quot;fuel&quot;: { &quot;enum&quot;: [&quot;regular&quot;, &quot;premium&quot;, &quot;diesel&quot;] },
            &quot;capacity&quot;: {
              &quot;description&quot;: &quot;fuel capacity of the tank&quot;,
              &quot;type&quot;: &quot;number&quot;
            }
          },
          &quot;required&quot;: [&quot;id&quot;,&quot;stationid&quot;,&quot;fuel&quot;,&quot;capacity&quot;]
        }
</code></pre>
<h4>Error Data</h4>
<p>Error data is included in response data when a status code other than
in the 200 range is returned.  This data is optional and its intent is to
provide additional information about what caused the API call to fail.
For example, if a call fails due to insufficient authorization, the
message data can include a string stating this along with one or two
links that can be used to login or register in order to obtain the proper
authorization to make the call.</p>
<p>The error data schema description filename and the media type parameter
value is:</p>
<ul>
<li><code>http://oci-labs.github.io/carma-api/schemas/errordata.json</code></li>
</ul>
<pre><code>        {
          &quot;$schema&quot;: &quot;http://json-schema.org/draft-04/schema#4&quot;,
          &quot;title&quot;: &quot;ErrorData&quot;,
          &quot;description&quot;: &quot;Describes information about errors encountered&quot;,
          &quot;type&quot;: &quot;object&quot;,
          &quot;properties&quot;: {
            &quot;reason&quot;: {
              &quot;description&quot;: &quot;cause of the error&quot;,
              &quot;type&quot;: &quot;string&quot;
            }
          },
          &quot;required&quot;: [&quot;reason&quot;]
        }
</code></pre>
<h4>Id Lists</h4>
<p>Some queries return a list of unique id values.  These are formatted as a
list of strings.  The schema description filename and the media type
parameter value is:</p>
<ul>
<li><code>http://oci-labs.github.io/carma-api/schemas/idlist.json</code></li>
</ul>
<pre><code>        {
          &quot;$schema&quot;: &quot;http://json-schema.org/draft-04/schema#4&quot;,
          &quot;title&quot;: &quot;IdLIst&quot;,
          &quot;description&quot;: &quot;Contains multiple elements of unique identifiers&quot;,
          &quot;type&quot;: &quot;object&quot;,
          &quot;properties&quot;: {
            &quot;idType&quot;: { &quot;enum&quot;: [&quot;stations&quot;,&quot;pumps&quot;,&quot;tanks&quot;] },
            &quot;data&quot;: {
              &quot;description&quot;: &quot;array of ids&quot;,
              &quot;type&quot;: &quot;array&quot;,
              &quot;items&quot;: { &quot;type&quot;: &quot;string&quot; }
            }
          },
          &quot;required&quot;: [&quot;idType&quot;,&quot;data&quot;]
        }
</code></pre>
<h2>Access Semantics</h2>
<h3>Reading Resources</h3>
<p>To read the content of resources, the HTTP GET method is used.  The URI
to the resource will determine if an individual resource, all resources,
or some resources will be retrieved.</p>
<p>Reading the entire available resource list is done by simply calling the
API GET method with the collection URI and no parameters.  All data for
that resource will be returned.  An example of this API call is:</p>
<pre><code>    GET /collection
</code></pre>
<p>It is also possible to page through the available resources.  This is
useful when there are many resources and the client wants to start
using the available list prior to receiving the entire list; for example
to start building a table in the user interface with the first entries
before the entire set of data has been received.</p>
<p>Reading partial lists is done by providing query parameters to the GET
method call that indicate the starting index (<code>start</code>) and number of
entries (<code>span</code>) to return.  The starting index is the offset in the
entire list from the first entry.  For example, calling</p>
<pre><code>    GET /collection?start=51;span=50
</code></pre>
<p>will return the second 50 elements of the ‘/stations’ resource that
are available.  Clients should be aware that if the resource collection
is updated between calls to these partial reads occur, the list being
accessed will not remain unchanged.</p>
<p>Individual resources can be read by simply adding the {resourceid} value
as the next element in the URI path:</p>
<pre><code>    GET /collection/{rescourceid}
</code></pre>
<h3>Searching for Resources</h3>
<p>It is possible to search for resources of a type.  This is done by using
the HTTP GET method at a URI relative to the resource being searched for.
Access from search is restricted to reading and effectively returns
those records that meet the search criteria.</p>
<p>Search URIs will be formed similar to:</p>
<pre><code>    GET /search/collection?query=&lt;query-string&gt;
</code></pre>
<p>Query string formats have not been finalized at this time.</p>
<h2>HTTP Headers</h2>
<p>The Carmageddon Back End ReST API requires and allows certain HTTP
headers to be present in the request messages and provides headers in
the response messages.  These headers modify how the server responds to
requests and provides additional information about the responses provided.</p>
<p>It is expected that the standard header mechanisms for caching, content
negotiation, and connection management (among others) are handled
externally to the API by the HTTP client and server libraries.  They are
not addressed here.</p>
<h3>Request Headers</h3>
<p>There are no additional request headers required for this API.  Since the
API provides only GET endpoints and parameters are supplied as either URI
or Query parameters, no additional data needs to be sent as part of the
request.</p>
<h3>Response Headers</h3>
<p>The Response headers in addition to standard headers that are provided
by the API include Content-Type, and Retry-After.  These headers provide
additional information to the client for normal as well as exceptional
response messages.</p>
<h4>Content-Type Header</h4>
<p>This header is sent when providing data in the response message.  This
header indicates what format the data is supplied in.  As discussed in
the data formats section above, this will be the API specific API format:</p>
<pre><code>    Content-Type: application/prs.com.ociweb.demo.carma+json;profile=&lt;schema-URL&gt;
</code></pre>
<p>where the schema defined at &lt;schema-URL&gt; describes the details of the
data format.</p>
<h4>Retry-After Header</h4>
<p>This header is sent with the 429 and 503 status code response messages.
It will indicate the number of seconds to wait before retrying the
request.</p>
<h2>Status Return Codes</h2>
<p>In response to HTTP requests, the API will return a status code along
with HTTP response headers and any data for the call.  The status codes
indicate the result of the call and can be used to distinguish different
reasons for the failure of an API call.</p>
<p>In addition to the response codes from the API, clients should be
prepared to handle additional response codes that are generated by other
elements within the web - such as 3xx codes and some 4xx and 5xx codes.
Most of these other response status codes may be handled by the browser
or library that is being used to make the remote API calls.</p>
<h3>200 Ok</h3>
<p>This status code indicates that the API call was successful and the
requested operation was compelted prior to the response being sent.</p>
<h3>204 No Content</h3>
<p>This status code indicates that the API call was successful but that
there is no content being returned.  This will be sent only when the API
defines that response data will be sent, and no data was available to
send in the response.  Calls that are defined to not return data simply
return the 200 status code.</p>
<h3>400 Bad Request</h3>
<p>This status code indicates that the server was unable to parse the
incoming API call correctly.  The response data will typically include
additional information about the failure cause.</p>
<h3>404 Not Found</h3>
<p>This status code indicates that the requested resource was not found on
the server.  The response may or may not include additional information
about the resource.  This may include advice on how to create the
requested resource.</p>
<h3>405 Method Not Allowed</h3>
<p>This status code indicates that the API call was to a resource that does
not support the requested HTTP method.  The response will include the
allowed methods in and HTTP Accept header.</p>
<h3>429 Too Many Requests</h3>
<p>This status code indicates that the client has been sending too many
requests and the server is implementing rate limiting for this client.
The response header may include an HTTP Retry-After header to indicate
how much time should elapse before another call is made if the client
wishes to avoid rate limiting.</p>
<h3>500 Internal Server Error</h3>
<p>This status code indicates that the server has encountered an error which
it is unable to handle during the processing of the API call.</p>
<h3>501 Not Implemented</h3>
<p>This status code indicates that the client attempted to use a feature of
HTTP (such as an extended feature like PATCH) that is not recognized by
the server.  This is different from the 405 code which indicates that the
method is recognized but not allowed by the resource.</p>
<h3>503 Service Unavailable</h3>
<p>This status code indicates that the HTTP server is active, but the
underlying server that implements the API is not available at this time.
The server may send an HTTP Retry-After header if the cause is not due to
resource starvation but to some known reason that is expected to clear.</p>
<h2>Parameters used by the API</h2>
<p>The Carmageddon Back End ReST API uses parameters in the formation
of URIs in order to specialize the method calls.  These parameters are
either direct URI parameters, part of the URI path, or query parameters -
added to the end of the path after a ‘?’ symbol and separated with ‘;’
symbols if more than one.</p>
<h3>URI Parameters</h3>
<p>The URI paramters used by the API are used to uniquely identify elements
within the available data.  Each element accessible by the API has a
unique identifier that is unique within that elements type.  This means
that it is a mistake to attempt access of one type of data using an
identifier for another (do not use a station Id to access a pump Id
for example).</p>
<p>URI parameters are individual path elements in the URI.  These parameters
are not combined in this API, so each parameter stands on its own.</p>
<h4>cityid</h4>
<p>The {cityid} parameter is a string value that is used to uniquely
identify each available cities resource.  There should be no meaning
attributed to the parameter value; specifically the value cannot be used
as an index into lists or the dataset.</p>
<h4>stationid</h4>
<p>The {stationid} parameter is a string value that is used to uniquely
identify each available stations resource.  There should be no meaning
attributed to the parameter value; specifically the value cannot be used
as an index into lists or the dataset.</p>
<h4>pumpid</h4>
<p>The {pumpid} parameter is a string value that is used to uniquely
identify each available pumps resource.  There should be no meaning
attributed to the parameter value; specifically the value cannot be used
as an index into lists or the dataset.</p>
<h4>tankid</h4>
<p>The {tankid} parameter is a string value that is used to uniquely
identify each available tanks resource.  There should be no meaning
attributed to the parameter value; specifically the value cannot be used
as an index into lists or the dataset.</p>
<h3>Query Parameters</h3>
<p>The query parameters used by the API are used when accessing a collection
for reading and used to restrict the access to a subset of the available
data.  These parameters will occur after the URI path, separated from the
path by a ‘?’ symbol, and if more than one is present they will be
separated with a ‘;’ symbol.</p>
<p>These parameters are of the form:</p>
<pre><code>    &lt;paramter-name&gt;=&lt;value&gt;
</code></pre>
<p>where the &lt;parameter-name&gt; is one of those below.</p>
<h4>start</h4>
<p>The <code>start</code> parameter is used to indicate the first record to return in a
restricted list of results.  This is a numeric index into the list where
the first record is at index 1.  The list indexed is the one present at
the time the request is received.  If the list has been modified since
the last call, the index may not reference the expected data.  It is up
to the client to determine if a list is complete or if the same list
elements have been encountered when paging.</p>
<h4>span</h4>
<p>The <code>span</code> parameter is used to indicate the number of records to return
in a restricted list of results.  This number of records will be returned
if there are enough after the starting index.  If there are not enough
elements to satisfy the request, then as many available records will be
sent as possible.  It is up to the client to check the length of the
returned array to ensure that it does not attempt to access elements
beyond the end of the list.</p>
<h4>query</h4>
<p>When a search URI is used, the <code>query</code> parameter is used to specify the
criteria for the search.  The value of this parameter corresponds to the
‘WHERE’ clause of an SQL ‘SELECT’ statement.</p>
<h4>from</h4>
<p>The <code>from</code> parameter is a string version of a date/time used to specify
the starting time of an interval.  This can be either a standard date
format, a relative date format, or a numeric value representing the
number of seconds since the epoch (01-01-1970).  The special value of
“first” is used to indicate the oldest available data in storage.</p>
<h4>to</h4>
<p>The <code>to</code> parameter is a string version of a date/time used to specify the
ending time of an interval.  This can be either a standard date format,
a relative date format, or a numeric value representing the number of
seconds since the epoch (01-01-1970).  The special value of “last” is
used to indicate the latest (possibly future) date available in storage.</p>
<h4>fuel</h4>
<p>The <code>fuel</code> parameter is used to restrict the amount of data returned in a
list when requesting information about revenue.  It has the special value
of “all” that indicates that all fuels should be considered.</p>
<h4>type</h4>
<p>The <code>type</code> parameter indicates which single or multiple events types are
to be included in a returned list of events.  The event types can include
the special value of “all” which indicates all events will be included.
“all” is also the default value, so the lack of this parameter is the same
as specifying &quot;all&quot;.  Values, other than “all” which are accepted include:
&quot;pumpfail&quot;, &quot;pumpactive&quot;, &quot;pumpinactive&quot;, &quot;tankleak&quot;, &quot;tankactive&quot;,
&quot;tankinacive&quot;, and &quot;tankfill&quot;.  More than one event type can be specified
by including them as a comma separated list of types.</p>
</div></div><div><div class="panel panel-default"><div class="panel-heading"><h3 id="city">City&nbsp;<a href="#city"><i class="fa fa-link"></i></a></h3></div><div class="panel-body"><p>These resource identifiers represent information about the City resources
of the corporation.  Cities have information about their location and an
intial zoom level when viewing the location on a map.  Each city also has
a name and a state associated with it.  Cities also are a container for
stations; that is each city has a list of stations which are resident in
that city.</p>
<h4 id="city-cities-collection">Cities Collection&nbsp;<a href="#city-cities-collection"><i class="fa fa-link"></i></a></h4><p>Obtain a list of all cities which have stations owned by the corporation.
This is a paged URI that can be used to obtain the entire set of
information in groups of <code>span</code> parameter values.  If no parameters are
supplied, then all cities are returned.  The returned data is an array
of individual city information, not a simple list of <code>cityid</code> values.</p>
<section id="city-cities-collection-get" class="panel panel-info"><div class="panel-heading"><div style="float:right"><span style="text-transform: lowercase">List_Cities</span></div><div style="float:left"><a href="#city-cities-collection-get" class="btn btn-xs btn-primary">GET</a></div><div style="overflow:hidden"><code>/cities{?start,span}</code></div></div><ul class="list-group"><li class="list-group-item bg-default"><strong>Parameters</strong></li><li class="list-group-item"><dl class="dl-horizontal"><dt>start</dt><dd><code>number</code>&nbsp;<span>(optional)</span>&nbsp;<span class="text-info default"><strong>Default:&nbsp;</strong><span>1</span></span>&nbsp;<p>Numeric index of the first location to return in the response.</p>
</dd><dt>span</dt><dd><code>number</code>&nbsp;<span>(optional)</span>&nbsp;<span class="text-info default"><strong>Default:&nbsp;</strong><span>20</span></span>&nbsp;<p>Number of City entries to return in the response.</p>
</dd></dl></li></ul><ul class="list-group"><li class="list-group-item"><strong>Request&nbsp;&nbsp;<code>/cities?start=1;span=4</code></strong></li><li class="list-group-item"><strong>Response&nbsp;&nbsp;<code>200</code></strong><a data-toggle="collapse" data-target="#c1efd1df64d7c25a17219a78695aef2d" class="pull-right collapsed"><span class="closed">Show</span><span class="open">Hide</span></a></li><li id="c1efd1df64d7c25a17219a78695aef2d" class="list-group-item panel-collapse collapse"><h5>Headers</h5><pre><code><span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/prs.com.ociweb.demo.carma+json; profile=http://oci-labs.github.io/carma-api/schemas/collection.json</span><br></code></pre><h5>Body</h5><pre><code>   { "<span class="hljs-attribute">data</span>": <span class="hljs-value">[ { "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"c00"</span></span>, "<span class="hljs-attribute">order</span>": <span class="hljs-value"><span class="hljs-string">"0"</span></span>, "<span class="hljs-attribute">zoom</span>": <span class="hljs-value"><span class="hljs-string">"4"</span></span>,  "<span class="hljs-attribute">city</span>": <span class="hljs-value"><span class="hljs-string">"All Cities"</span></span>,   "<span class="hljs-attribute">state</span>": <span class="hljs-value"><span class="hljs-string">"USA"</span></span>, "<span class="hljs-attribute">lat</span>": <span class="hljs-value"><span class="hljs-string">"38.4039"</span></span>,    "<span class="hljs-attribute">lon</span>": <span class="hljs-value"><span class="hljs-string">"-96.1817"</span></span>},
               { "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"c01"</span></span>, "<span class="hljs-attribute">order</span>": <span class="hljs-value"><span class="hljs-string">"1"</span></span>, "<span class="hljs-attribute">zoom</span>": <span class="hljs-value"><span class="hljs-string">"9"</span></span>,  "<span class="hljs-attribute">city</span>": <span class="hljs-value"><span class="hljs-string">"Greenville"</span></span>,   "<span class="hljs-attribute">state</span>": <span class="hljs-value"><span class="hljs-string">"SC"</span></span>,  "<span class="hljs-attribute">lat</span>": <span class="hljs-value"><span class="hljs-string">"34.8526176"</span></span>, "<span class="hljs-attribute">lon</span>": <span class="hljs-value"><span class="hljs-string">"-82.3940104"</span></span>},
               { "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"c02"</span></span>, "<span class="hljs-attribute">order</span>": <span class="hljs-value"><span class="hljs-string">"2"</span></span>, "<span class="hljs-attribute">zoom</span>": <span class="hljs-value"><span class="hljs-string">"8"</span></span>,  "<span class="hljs-attribute">city</span>": <span class="hljs-value"><span class="hljs-string">"Grand Rapids"</span></span>, "<span class="hljs-attribute">state</span>": <span class="hljs-value"><span class="hljs-string">"MI"</span></span>,  "<span class="hljs-attribute">lat</span>": <span class="hljs-value"><span class="hljs-string">"42.9633599"</span></span>, "<span class="hljs-attribute">lon</span>": <span class="hljs-value"><span class="hljs-string">"-85.6680863"</span></span>},
               { "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"c03"</span></span>, "<span class="hljs-attribute">order</span>": <span class="hljs-value"><span class="hljs-string">"3"</span></span>, "<span class="hljs-attribute">zoom</span>": <span class="hljs-value"><span class="hljs-string">"10"</span></span>, "<span class="hljs-attribute">city</span>": <span class="hljs-value"><span class="hljs-string">"Cary"</span></span>,         "<span class="hljs-attribute">state</span>": <span class="hljs-value"><span class="hljs-string">"NC"</span></span>,  "<span class="hljs-attribute">lat</span>": <span class="hljs-value"><span class="hljs-string">"39.79154"</span></span>,   "<span class="hljs-attribute">lon</span>": <span class="hljs-value"><span class="hljs-string">"-78.7811169"</span></span>}
   ]</span>}
</code></pre></li><li class="list-group-item"><strong>Response&nbsp;&nbsp;<code>204</code></strong></li></ul></section><h4 id="city-cities-search">Cities Search&nbsp;<a href="#city-cities-search"><i class="fa fa-link"></i></a></h4><p>Search for cities.  This returns a list of cities which meet the criteria
supplied by the <code>query</code> parameter.  Search results consist of an array of
individual city information and not just a simple list of <code>cityid</code> values.</p>
<section id="city-cities-search-get" class="panel panel-info"><div class="panel-heading"><div style="float:right"><span style="text-transform: lowercase">Search_Cities</span></div><div style="float:left"><a href="#city-cities-search-get" class="btn btn-xs btn-primary">GET</a></div><div style="overflow:hidden"><code>/search/cities{?query}</code></div></div><ul class="list-group"><li class="list-group-item bg-default"><strong>Parameters</strong></li><li class="list-group-item"><dl class="dl-horizontal"><dt>query</dt><dd><code>string</code>&nbsp;<span class="required">(required)</span>&nbsp;<span class="text-muted example"><strong>Example:&nbsp;</strong><span>state==&quot;MI&quot;</span></span><p>Query parameter for search.</p>
</dd></dl></li></ul><ul class="list-group"><li class="list-group-item"><strong>Request&nbsp;&nbsp;<code>/search/cities?query=state==&quot;MI&quot;||state==&quot;NC&quot;</code></strong></li><li class="list-group-item"><strong>Response&nbsp;&nbsp;<code>200</code></strong><a data-toggle="collapse" data-target="#82bbe56ac135ebb590b57e32eb197c0d" class="pull-right collapsed"><span class="closed">Show</span><span class="open">Hide</span></a></li><li id="82bbe56ac135ebb590b57e32eb197c0d" class="list-group-item panel-collapse collapse"><h5>Headers</h5><pre><code><span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/prs.com.ociweb.demo.carma+json; profile=http://oci-labs.github.io/carma-api/schemas/collection.json</span><br></code></pre><h5>Body</h5><pre><code>   { "<span class="hljs-attribute">data</span>": <span class="hljs-value">[ { "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"c02"</span></span>, "<span class="hljs-attribute">order</span>": <span class="hljs-value"><span class="hljs-string">"2"</span></span>, "<span class="hljs-attribute">zoom</span>": <span class="hljs-value"><span class="hljs-string">"8"</span></span>,  "<span class="hljs-attribute">city</span>": <span class="hljs-value"><span class="hljs-string">"Grand Rapids"</span></span>, "<span class="hljs-attribute">state</span>": <span class="hljs-value"><span class="hljs-string">"MI"</span></span>,  "<span class="hljs-attribute">lat</span>": <span class="hljs-value"><span class="hljs-string">"42.9633599"</span></span>, "<span class="hljs-attribute">lon</span>": <span class="hljs-value"><span class="hljs-string">"-85.6680863"</span></span>},
               { "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"c03"</span></span>, "<span class="hljs-attribute">order</span>": <span class="hljs-value"><span class="hljs-string">"3"</span></span>, "<span class="hljs-attribute">zoom</span>": <span class="hljs-value"><span class="hljs-string">"10"</span></span>, "<span class="hljs-attribute">city</span>": <span class="hljs-value"><span class="hljs-string">"Cary"</span></span>,         "<span class="hljs-attribute">state</span>": <span class="hljs-value"><span class="hljs-string">"NC"</span></span>,  "<span class="hljs-attribute">lat</span>": <span class="hljs-value"><span class="hljs-string">"39.79154"</span></span>,   "<span class="hljs-attribute">lon</span>": <span class="hljs-value"><span class="hljs-string">"-78.7811169"</span></span>}
   ]</span>}
</code></pre></li><li class="list-group-item"><strong>Response&nbsp;&nbsp;<code>204</code></strong></li></ul></section><h4 id="city-city">City&nbsp;<a href="#city-city"><i class="fa fa-link"></i></a></h4><p>Obtain the information for a single city.</p>
<section id="city-city-get" class="panel panel-info"><div class="panel-heading"><div style="float:right"><span style="text-transform: lowercase">List_single_City</span></div><div style="float:left"><a href="#city-city-get" class="btn btn-xs btn-primary">GET</a></div><div style="overflow:hidden"><code>/cities/{cityid}</code></div></div><ul class="list-group"><li class="list-group-item bg-default"><strong>Parameters</strong></li><li class="list-group-item"><dl class="dl-horizontal"><dt>cityid</dt><dd><code>string</code>&nbsp;<span class="required">(required)</span>&nbsp;<span class="text-muted example"><strong>Example:&nbsp;</strong><span>c03</span></span><p>Unique identfier for the city.</p>
</dd></dl></li></ul><ul class="list-group"><li class="list-group-item"><strong>Request&nbsp;&nbsp;<code>/cities/c03</code></strong></li><li class="list-group-item"><strong>Response&nbsp;&nbsp;<code>200</code></strong><a data-toggle="collapse" data-target="#d07851f5da370af1b450913f5078ddbe" class="pull-right collapsed"><span class="closed">Show</span><span class="open">Hide</span></a></li><li id="d07851f5da370af1b450913f5078ddbe" class="list-group-item panel-collapse collapse"><h5>Headers</h5><pre><code><span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/prs.com.ociweb.demo.carma+json; profiile=http://oci-labs.github.io/carma-api/schemas/city.json</span><br></code></pre><h5>Body</h5><pre><code>   {
     "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"c03"</span></span>,
     "<span class="hljs-attribute">order</span>": <span class="hljs-value"><span class="hljs-string">"3"</span></span>,
     "<span class="hljs-attribute">zoom</span>": <span class="hljs-value"><span class="hljs-string">"10"</span></span>,
     "<span class="hljs-attribute">city</span>": <span class="hljs-value"><span class="hljs-string">"Cary"</span></span>,
     "<span class="hljs-attribute">state</span>": <span class="hljs-value"><span class="hljs-string">"NC"</span></span>,
     "<span class="hljs-attribute">lat</span>": <span class="hljs-value"><span class="hljs-string">"39.79154"</span></span>,
     "<span class="hljs-attribute">lon</span>": <span class="hljs-value"><span class="hljs-string">"-78.7811169"</span>
   </span>}
</code></pre></li><li class="list-group-item"><strong>Response&nbsp;&nbsp;<code>404</code></strong></li></ul></section><h4 id="city-city-stations">City Stations&nbsp;<a href="#city-city-stations"><i class="fa fa-link"></i></a></h4><p>City stations are the stations which are located within the city.  The
returned information includes a list of the <code>stationid</code> values for
stations which are located within the named city.  Information about the
stations will need to be obtained separately.</p>
<section id="city-city-stations-get" class="panel panel-info"><div class="panel-heading"><div style="float:right"><span style="text-transform: lowercase">Get_stations_in_city</span></div><div style="float:left"><a href="#city-city-stations-get" class="btn btn-xs btn-primary">GET</a></div><div style="overflow:hidden"><code>/cities/{cityid}/stations{?start,span}</code></div></div><ul class="list-group"><li class="list-group-item bg-default"><strong>Parameters</strong></li><li class="list-group-item"><dl class="dl-horizontal"><dt>cityid</dt><dd><code>string</code>&nbsp;<span class="required">(required)</span>&nbsp;<span class="text-muted example"><strong>Example:&nbsp;</strong><span>c03</span></span><p>Unique identfier for the city.</p>
</dd><dt>start</dt><dd><code>number</code>&nbsp;<span>(optional)</span>&nbsp;<span class="text-info default"><strong>Default:&nbsp;</strong><span>1</span></span>&nbsp;<p>Numeric index of the first location to return in the response.</p>
</dd><dt>span</dt><dd><code>number</code>&nbsp;<span>(optional)</span>&nbsp;<span class="text-info default"><strong>Default:&nbsp;</strong><span>10</span></span>&nbsp;<p>Number of City entries to return in the response.</p>
</dd></dl></li></ul><ul class="list-group"><li class="list-group-item"><strong>Request&nbsp;&nbsp;<code>/cities/c03/stations?start=1;span=4</code></strong></li><li class="list-group-item"><strong>Response&nbsp;&nbsp;<code>200</code></strong><a data-toggle="collapse" data-target="#3512db30a154bbebd179d7ac1a1913ea" class="pull-right collapsed"><span class="closed">Show</span><span class="open">Hide</span></a></li><li id="3512db30a154bbebd179d7ac1a1913ea" class="list-group-item panel-collapse collapse"><h5>Headers</h5><pre><code><span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/prs.com.ociweb.demo.carma+json; profile=http://oci-labs.github.io/carma-api/schemas/idlist.json</span><br></code></pre><h5>Body</h5><pre><code>   { "<span class="hljs-attribute">idType</span>": <span class="hljs-value"><span class="hljs-string">"stations"</span></span>,
     "<span class="hljs-attribute">data</span>": <span class="hljs-value">[ <span class="hljs-string">"s007"</span>,
               <span class="hljs-string">"s008"</span>,
               <span class="hljs-string">"s009"</span>,
               <span class="hljs-string">"s010"</span>
   ]</span>}
</code></pre></li><li class="list-group-item"><strong>Response&nbsp;&nbsp;<code>204</code></strong></li><li class="list-group-item"><strong>Response&nbsp;&nbsp;<code>404</code></strong></li></ul></section></div></div></div><div><div class="panel panel-default"><div class="panel-heading"><h3 id="station">Station&nbsp;<a href="#station"><i class="fa fa-link"></i></a></h3></div><div class="panel-body"><p>These resource identifiers represent information about the Station
resources in the corporation. Each station includes information about
the pumps that are present at that station and the tanks holding the
fuel that is provided by the pumps.  The revenue for a station within
a time period for some or all of the fuel types supplied by a station
can be obtained.  A list of events which have ocurred, or which are
projected to ocurr at a station can be obtained as well.</p>
<p>Events which can occur at a station include the following:</p>
<ul>
<li><p>pumpfail - a pump has been detected as being inoperative at the station</p></li>
<li><p>pumpactive  - a pump is returned to service after being inactive</p></li>
<li><p>pumpinactive  - a pump is removed from service due to scheduled maintenance</p></li>
<li><p>tankfail - a tank has been detected as operating outside of required constraints</p></li>
<li><p>tankactive  - a tank is returned to service within required constraints</p></li>
<li><p>tankinactive  - a tank is removed from service due to scheduled maintenance</p></li>
<li><p>tankfill  - a tank has been filled at the station</p></li>
</ul>
<h4 id="station-stations-collection">Stations Collection&nbsp;<a href="#station-stations-collection"><i class="fa fa-link"></i></a></h4><p>Obtain a list of all stations in the corporation.  This is a paged URI
that can be used to obtain the entire set of information in groups of
<code>span</code> parameter values.  If no parameters are supplied, then all
stations are returned.</p>
<section id="station-stations-collection-get" class="panel panel-info"><div class="panel-heading"><div style="float:right"><span style="text-transform: lowercase">List_Stations</span></div><div style="float:left"><a href="#station-stations-collection-get" class="btn btn-xs btn-primary">GET</a></div><div style="overflow:hidden"><code>/stations{?start,span}</code></div></div><ul class="list-group"><li class="list-group-item bg-default"><strong>Parameters</strong></li><li class="list-group-item"><dl class="dl-horizontal"><dt>start</dt><dd><code>number</code>&nbsp;<span>(optional)</span>&nbsp;<span class="text-info default"><strong>Default:&nbsp;</strong><span>1</span></span>&nbsp;<p>Numeric index of the first location to return in the response.</p>
</dd><dt>span</dt><dd><code>number</code>&nbsp;<span>(optional)</span>&nbsp;<span class="text-info default"><strong>Default:&nbsp;</strong><span>10</span></span>&nbsp;<p>Number of Station entries to return in the response.</p>
</dd></dl></li></ul><ul class="list-group"><li class="list-group-item"><strong>Request&nbsp;&nbsp;<code>/stations?start=1;span=3</code></strong></li><li class="list-group-item"><strong>Response&nbsp;&nbsp;<code>200</code></strong><a data-toggle="collapse" data-target="#ea585951f213ceec3f0b91bfd6780e5b" class="pull-right collapsed"><span class="closed">Show</span><span class="open">Hide</span></a></li><li id="ea585951f213ceec3f0b91bfd6780e5b" class="list-group-item panel-collapse collapse"><h5>Headers</h5><pre><code><span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/prs.com.ociweb.demo.carma+json; profile=http://oci-labs.github.io/carma-api/schemas/collection.json</span><br></code></pre><h5>Body</h5><pre><code>   { "<span class="hljs-attribute">data</span>": <span class="hljs-value">[ { "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"s007"</span></span>, "<span class="hljs-attribute">cityid</span>": <span class="hljs-value"><span class="hljs-string">"c03"</span></span>, "<span class="hljs-attribute">city</span>": <span class="hljs-value"><span class="hljs-string">"Cary"</span></span>, "<span class="hljs-attribute">state</span>": <span class="hljs-value"><span class="hljs-string">"NC"</span></span>, "<span class="hljs-attribute">lat</span>": <span class="hljs-value"><span class="hljs-string">"35.66029077"</span></span>, "<span class="hljs-attribute">lon</span>": <span class="hljs-value"><span class="hljs-string">"-79.00755913"</span></span>,
                               "<span class="hljs-attribute">tanks</span>": <span class="hljs-value">{ "<span class="hljs-attribute">regular</span>": <span class="hljs-value"><span class="hljs-string">"t0021"</span></span>, "<span class="hljs-attribute">premium</span>": <span class="hljs-value"><span class="hljs-string">"t0022"</span></span>, "<span class="hljs-attribute">diesel</span>": <span class="hljs-value"><span class="hljs-string">"t0023"</span></span>}</span>,
                               "<span class="hljs-attribute">pumps</span>": <span class="hljs-value">[<span class="hljs-string">"p0631"</span>, <span class="hljs-string">"p0849"</span>, <span class="hljs-string">"p1359"</span>, <span class="hljs-string">"p1775"</span>, <span class="hljs-string">"p2589"</span>, <span class="hljs-string">"p2670"</span>, <span class="hljs-string">"p3857"</span>, <span class="hljs-string">"p3927"</span>, <span class="hljs-string">"p5119"</span>, <span class="hljs-string">"p5570"</span>, <span class="hljs-string">"p6126"</span>, <span class="hljs-string">"p6885"</span>]</span>},
               { "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"s008"</span></span>, "<span class="hljs-attribute">cityid</span>": <span class="hljs-value"><span class="hljs-string">"c03"</span></span>, "<span class="hljs-attribute">city</span>": <span class="hljs-value"><span class="hljs-string">"Cary"</span></span>, "<span class="hljs-attribute">state</span>": <span class="hljs-value"><span class="hljs-string">"NC"</span></span>, "<span class="hljs-attribute">lat</span>": <span class="hljs-value"><span class="hljs-string">"35.5318045"</span></span>, "<span class="hljs-attribute">lon</span>": <span class="hljs-value"><span class="hljs-string">"-78.92016643"</span></span>,
                               "<span class="hljs-attribute">tanks</span>": <span class="hljs-value">{ "<span class="hljs-attribute">regular</span>": <span class="hljs-value"><span class="hljs-string">"t0024"</span></span>, "<span class="hljs-attribute">premium</span>": <span class="hljs-value"><span class="hljs-string">"t0025"</span></span>, "<span class="hljs-attribute">diesel</span>": <span class="hljs-value"><span class="hljs-string">"t0026"</span></span>}</span>,
                               "<span class="hljs-attribute">pumps</span>": <span class="hljs-value">[<span class="hljs-string">"p0508"</span>, <span class="hljs-string">"p1823"</span>, <span class="hljs-string">"p2123"</span>, <span class="hljs-string">"p2755"</span>, <span class="hljs-string">"p4224"</span>, <span class="hljs-string">"p4636"</span>, <span class="hljs-string">"p5453"</span>, <span class="hljs-string">"p6088"</span>, <span class="hljs-string">"p6831"</span>]</span>},
               { "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"s009"</span></span>, "<span class="hljs-attribute">cityid</span>": <span class="hljs-value"><span class="hljs-string">"c03"</span></span>, "<span class="hljs-attribute">city</span>": <span class="hljs-value"><span class="hljs-string">"Cary"</span></span>, "<span class="hljs-attribute">state</span>": <span class="hljs-value"><span class="hljs-string">"NC"</span></span>, "<span class="hljs-attribute">lat</span>": <span class="hljs-value"><span class="hljs-string">"35.80762049"</span></span>, "<span class="hljs-attribute">lon</span>": <span class="hljs-value"><span class="hljs-string">"-78.506764"</span></span>,
                               "<span class="hljs-attribute">tanks</span>": <span class="hljs-value">{ "<span class="hljs-attribute">regular</span>": <span class="hljs-value"><span class="hljs-string">"t0027"</span></span>, "<span class="hljs-attribute">premium</span>": <span class="hljs-value"><span class="hljs-string">"t0028"</span></span>, "<span class="hljs-attribute">diesel</span>": <span class="hljs-value"><span class="hljs-string">"t0029"</span></span>}</span>,
                               "<span class="hljs-attribute">pumps</span>": <span class="hljs-value">[<span class="hljs-string">"p0365"</span>, <span class="hljs-string">"p0633"</span>, <span class="hljs-string">"p0944"</span>, <span class="hljs-string">"p1633"</span>, <span class="hljs-string">"p2054"</span>, <span class="hljs-string">"p2518"</span>, <span class="hljs-string">"p3187"</span>, <span class="hljs-string">"p3239"</span>, <span class="hljs-string">"p3682"</span>, <span class="hljs-string">"p4960"</span>, <span class="hljs-string">"p5127"</span>, <span class="hljs-string">"p5959"</span>, <span class="hljs-string">"p6023"</span>, <span class="hljs-string">"p6212"</span>]</span>},
   ]</span>}
</code></pre></li><li class="list-group-item"><strong>Response&nbsp;&nbsp;<code>204</code></strong></li></ul></section><h4 id="station-stations-search">Stations Search&nbsp;<a href="#station-stations-search"><i class="fa fa-link"></i></a></h4><p>Search for stations.  This returns a list of stations which meet the
criteria supplied by the <code>query</code> parameter.  Search results consist of an
array of individual station information, not a simple list of <code>stationid</code>
values.</p>
<section id="station-stations-search-get" class="panel panel-info"><div class="panel-heading"><div style="float:right"><span style="text-transform: lowercase">Search_Stations</span></div><div style="float:left"><a href="#station-stations-search-get" class="btn btn-xs btn-primary">GET</a></div><div style="overflow:hidden"><code>/search/stations{?query}</code></div></div><ul class="list-group"><li class="list-group-item bg-default"><strong>Parameters</strong></li><li class="list-group-item"><dl class="dl-horizontal"><dt>query</dt><dd><code>string</code>&nbsp;<span class="required">(required)</span>&nbsp;<span class="text-muted example"><strong>Example:&nbsp;</strong><span>tanks.premium==t0025</span></span><p>Query parameter for search.</p>
</dd></dl></li></ul><ul class="list-group"><li class="list-group-item"><strong>Request&nbsp;&nbsp;<code>/search/stations?query=tanks.premium==&quot;t0025&quot;</code></strong></li><li class="list-group-item"><strong>Response&nbsp;&nbsp;<code>200</code></strong><a data-toggle="collapse" data-target="#0c423cd609e5b0aa6ced04834961a9dc" class="pull-right collapsed"><span class="closed">Show</span><span class="open">Hide</span></a></li><li id="0c423cd609e5b0aa6ced04834961a9dc" class="list-group-item panel-collapse collapse"><h5>Headers</h5><pre><code><span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/prs.com.ociweb.demo.carma+json; profile=http://oci-labs.github.io/carma-api/schemas/collection.json</span><br></code></pre><h5>Body</h5><pre><code>{ "<span class="hljs-attribute">data</span>": <span class="hljs-value">[ { "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"s008"</span></span>, "<span class="hljs-attribute">cityid</span>": <span class="hljs-value"><span class="hljs-string">"c03"</span></span>, "<span class="hljs-attribute">city</span>": <span class="hljs-value"><span class="hljs-string">"Cary"</span></span>, "<span class="hljs-attribute">state</span>": <span class="hljs-value"><span class="hljs-string">"NC"</span></span>, "<span class="hljs-attribute">lat</span>": <span class="hljs-value"><span class="hljs-string">"35.5318045"</span></span>, "<span class="hljs-attribute">lon</span>": <span class="hljs-value"><span class="hljs-string">"-78.92016643"</span></span>,
                            "<span class="hljs-attribute">tanks</span>": <span class="hljs-value">{ "<span class="hljs-attribute">regular</span>": <span class="hljs-value"><span class="hljs-string">"t0024"</span></span>, "<span class="hljs-attribute">premium</span>": <span class="hljs-value"><span class="hljs-string">"t0025"</span></span>, "<span class="hljs-attribute">diesel</span>": <span class="hljs-value"><span class="hljs-string">"t0026"</span></span>}</span>,
                            "<span class="hljs-attribute">pumps</span>": <span class="hljs-value">[<span class="hljs-string">"p0508"</span>, <span class="hljs-string">"p1823"</span>, <span class="hljs-string">"p2123"</span>, <span class="hljs-string">"p2755"</span>, <span class="hljs-string">"p4224"</span>, <span class="hljs-string">"p4636"</span>, <span class="hljs-string">"p5453"</span>, <span class="hljs-string">"p6088"</span>, <span class="hljs-string">"p6831"</span>]</span>}
]</span>}
</code></pre></li><li class="list-group-item"><strong>Response&nbsp;&nbsp;<code>204</code></strong></li></ul></section><h4 id="station-station">Station&nbsp;<a href="#station-station"><i class="fa fa-link"></i></a></h4><p>Obtain the information for a single station.</p>
<section id="station-station-get" class="panel panel-info"><div class="panel-heading"><div style="float:right"><span style="text-transform: lowercase">List_single_Station</span></div><div style="float:left"><a href="#station-station-get" class="btn btn-xs btn-primary">GET</a></div><div style="overflow:hidden"><code>/stations/{stationid}</code></div></div><ul class="list-group"><li class="list-group-item bg-default"><strong>Parameters</strong></li><li class="list-group-item"><dl class="dl-horizontal"><dt>stationid</dt><dd><code>string</code>&nbsp;<span class="required">(required)</span>&nbsp;<span class="text-muted example"><strong>Example:&nbsp;</strong><span>t0025</span></span><p>Unique identfier for the station.</p>
</dd></dl></li></ul><ul class="list-group"><li class="list-group-item"><strong>Request&nbsp;&nbsp;<code>/stations/s008</code></strong></li><li class="list-group-item"><strong>Response&nbsp;&nbsp;<code>200</code></strong><a data-toggle="collapse" data-target="#f1a6dd0b82a649e7ec0c128ffc0bada5" class="pull-right collapsed"><span class="closed">Show</span><span class="open">Hide</span></a></li><li id="f1a6dd0b82a649e7ec0c128ffc0bada5" class="list-group-item panel-collapse collapse"><h5>Headers</h5><pre><code><span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/prs.com.ociweb.demo.carma+json; profile=http://oci-labs.github.io/carma-api/schemas/station.json</span><br></code></pre><h5>Body</h5><pre><code>{ "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"s008"</span></span>,
  "<span class="hljs-attribute">cityid</span>": <span class="hljs-value"><span class="hljs-string">"c03"</span></span>,
  "<span class="hljs-attribute">city</span>": <span class="hljs-value"><span class="hljs-string">"Cary"</span></span>,
  "<span class="hljs-attribute">state</span>": <span class="hljs-value"><span class="hljs-string">"NC"</span></span>,
  "<span class="hljs-attribute">lat</span>": <span class="hljs-value"><span class="hljs-string">"35.5318045"</span></span>,
  "<span class="hljs-attribute">lon</span>": <span class="hljs-value"><span class="hljs-string">"-78.92016643"</span></span>,
  "<span class="hljs-attribute">tanks</span>": <span class="hljs-value">{ "<span class="hljs-attribute">regular</span>": <span class="hljs-value"><span class="hljs-string">"t0024"</span></span>,
             "<span class="hljs-attribute">premium</span>": <span class="hljs-value"><span class="hljs-string">"t0025"</span></span>,
             "<span class="hljs-attribute">diesel</span>": <span class="hljs-value"><span class="hljs-string">"t0026"</span>
  </span>}</span>,
  "<span class="hljs-attribute">pumps</span>": <span class="hljs-value">[<span class="hljs-string">"p0508"</span>, <span class="hljs-string">"p1823"</span>, <span class="hljs-string">"p2123"</span>, <span class="hljs-string">"p2755"</span>, <span class="hljs-string">"p4224"</span>, <span class="hljs-string">"p4636"</span>, <span class="hljs-string">"p5453"</span>, <span class="hljs-string">"p6088"</span>, <span class="hljs-string">"p6831"</span>]
</span>}
</code></pre></li><li class="list-group-item"><strong>Response&nbsp;&nbsp;<code>404</code></strong></li></ul></section><h4 id="station-station-revenue">Station Revenue&nbsp;<a href="#station-station-revenue"><i class="fa fa-link"></i></a></h4><p>Station revenue is the amount of revenue collected from transactions at
all pumps within the station.  The returned information includes the
revenue obtained from the pumps at the station during the supplied
interval.  If no interval is supplied, then all the revenue from the
station is returned.  If the <code>fuel</code> parameter is supplied, the the
revenue is reported for each fuel named in the parameter as a separate
value.</p>
<section id="station-station-revenue-get" class="panel panel-info"><div class="panel-heading"><div style="float:right"><span style="text-transform: lowercase">List_Station_Revenue</span></div><div style="float:left"><a href="#station-station-revenue-get" class="btn btn-xs btn-primary">GET</a></div><div style="overflow:hidden"><code>/stations/{stationid}/revenue{?from,to,fuel}</code></div></div><ul class="list-group"><li class="list-group-item bg-default"><strong>Parameters</strong></li><li class="list-group-item"><dl class="dl-horizontal"><dt>from</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<span class="text-info default"><strong>Default:&nbsp;</strong><span>first</span></span>&nbsp;<p>date string for the start of the period to collect revenue.</p>
</dd><dt>to</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<span class="text-info default"><strong>Default:&nbsp;</strong><span>today</span></span>&nbsp;<p>date string for the end of the period to collect revenue.</p>
</dd><dt>fuel</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<span class="text-info default"><strong>Default:&nbsp;</strong><span>all</span></span>&nbsp;<p>selection of one or more fuels to gather revenue amounts for.</p>
</dd></dl></li></ul><ul class="list-group"><li class="list-group-item"><strong>Request&nbsp;&nbsp;<code>/stations/s007/revenue?from=last%20week;to=today;fuel=diesel</code></strong></li><li class="list-group-item"><strong>Response&nbsp;&nbsp;<code>200</code></strong><a data-toggle="collapse" data-target="#3b034788f07cc8d2f62aaa35e279c927" class="pull-right collapsed"><span class="closed">Show</span><span class="open">Hide</span></a></li><li id="3b034788f07cc8d2f62aaa35e279c927" class="list-group-item panel-collapse collapse"><h5>Headers</h5><pre><code><span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/prs.com.ociweb.demo.carma+json; profile=http://oci-labs.github.io/carma-api/schemas/revenue.json</span><br></code></pre><h5>Body</h5><pre><code>{
  "<span class="hljs-attribute">scope</span>": <span class="hljs-value"><span class="hljs-string">"station"</span></span>,
  "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"s007"</span></span>,
  "<span class="hljs-attribute">fuel</span>": <span class="hljs-value"><span class="hljs-string">"diesel"</span></span>,
  "<span class="hljs-attribute">from</span>": <span class="hljs-value"><span class="hljs-string">"1440020024"</span></span>,
  "<span class="hljs-attribute">to</span>": <span class="hljs-value"><span class="hljs-string">"1440624832"</span></span>,
  "<span class="hljs-attribute">amount</span>": <span class="hljs-value"><span class="hljs-string">"23756.32"</span>
</span>}
</code></pre></li><li class="list-group-item"><strong>Response&nbsp;&nbsp;<code>204</code></strong></li><li class="list-group-item"><strong>Response&nbsp;&nbsp;<code>404</code></strong></li></ul></section><h4 id="station-station-events">Station Events&nbsp;<a href="#station-station-events"><i class="fa fa-link"></i></a></h4><p>Station events are a time series of different event types.  If no <code>from</code>
or <code>to</code> parameter is supplied, than all events stored for a station are
returned.  If the <code>type</code> parameter is supplied, the returned list
provides only the event types included for that parameter.</p>
<section id="station-station-events-get" class="panel panel-info"><div class="panel-heading"><div style="float:right"><span style="text-transform: lowercase">List_Station_Events</span></div><div style="float:left"><a href="#station-station-events-get" class="btn btn-xs btn-primary">GET</a></div><div style="overflow:hidden"><code>/stations/{stationid}/events{?from,to,type}</code></div></div><ul class="list-group"><li class="list-group-item bg-default"><strong>Parameters</strong></li><li class="list-group-item"><dl class="dl-horizontal"><dt>from</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<span class="text-info default"><strong>Default:&nbsp;</strong><span>first</span></span>&nbsp;<p>date string for the start of the period to report events.</p>
</dd><dt>to</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<span class="text-info default"><strong>Default:&nbsp;</strong><span>today</span></span>&nbsp;<p>date string for the end of the period to report events.</p>
</dd><dt>type</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<span class="text-info default"><strong>Default:&nbsp;</strong><span>all</span></span>&nbsp;<p>selection of one or more event types to report events for.</p>
</dd></dl></li></ul><ul class="list-group"><li class="list-group-item"><strong>Request&nbsp;&nbsp;<code>/stations/s007/events?from=last%20week;to=today;type=all</code></strong></li><li class="list-group-item"><strong>Response&nbsp;&nbsp;<code>200</code></strong><a data-toggle="collapse" data-target="#bc6b0376f2235757340faf59cd2f8419" class="pull-right collapsed"><span class="closed">Show</span><span class="open">Hide</span></a></li><li id="bc6b0376f2235757340faf59cd2f8419" class="list-group-item panel-collapse collapse"><h5>Headers</h5><pre><code><span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/prs.com.ociweb.demo.carma+json; profile=http://oci-labs.github.io/carma-api/schemas/event.json</span><br></code></pre><h5>Body</h5><pre><code>{
  "<span class="hljs-attribute">scope</span>": <span class="hljs-value"><span class="hljs-string">"station"</span></span>,
  "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"s007"</span></span>,
  "<span class="hljs-attribute">events</span>": <span class="hljs-value">[
    { "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"pumpfail"</span></span>, "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"p0849"</span></span>, "<span class="hljs-attribute">when</span>": <span class="hljs-value"><span class="hljs-string">"1440019521"</span> </span>},
    { "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"pumpactive"</span></span>, "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"p0849"</span></span>, "<span class="hljs-attribute">when</span>": <span class="hljs-value"><span class="hljs-string">"1440278764"</span> </span>},
    { "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"tankfill"</span></span>, "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"t0021"</span></span>, "<span class="hljs-attribute">when</span>": <span class="hljs-value"><span class="hljs-string">"1440392400"</span> </span>},
    { "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"tankfill"</span></span>, "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"t0022"</span></span>, "<span class="hljs-attribute">when</span>": <span class="hljs-value"><span class="hljs-string">"1440392400"</span> </span>},
    { "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"tankfill"</span></span>, "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"t0023"</span></span>, "<span class="hljs-attribute">when</span>": <span class="hljs-value"><span class="hljs-string">"1440392400"</span> </span>}
  ]
</span>}
</code></pre></li><li class="list-group-item"><strong>Response&nbsp;&nbsp;<code>204</code></strong></li><li class="list-group-item"><strong>Response&nbsp;&nbsp;<code>404</code></strong></li></ul></section></div></div></div><div><div class="panel panel-default"><div class="panel-heading"><h3 id="pump">Pump&nbsp;<a href="#pump"><i class="fa fa-link"></i></a></h3></div><div class="panel-body"><p>These resource identifiers represent information about the pump resources
in the corporation.  Each pump includes information about the fuel types
that it dispenses and can provide the revenue for an interval for some
or all of the fuel types dispensed.  A list of events that have occurred,
or which are projected to occur, can be obtained as well.</p>
<p>Events which can occur at a pump include the following:</p>
<ul>
<li><p>pumpfail - a pump has been detected as being inoperative at the station</p></li>
<li><p>pumpactive  - a pump is returned to service after being inactive</p></li>
<li><p>pumpinactive  - a pump is removed from service due to scheduled maintenance</p></li>
</ul>
<h4 id="pump-pump-collection">Pump Collection&nbsp;<a href="#pump-pump-collection"><i class="fa fa-link"></i></a></h4><p>Obtain a list of all the pumps in the corporation.  This is a paged URI
that can be used to obtain the entire set of information in groups of
<code>span</code> parameter values.  If no parameters are supplied then all pumps
are returned.  The returned information is an array of individual pump
information, not simple a list of <code>pumpid</code> values.</p>
<section id="pump-pump-collection-get" class="panel panel-info"><div class="panel-heading"><div style="float:right"><span style="text-transform: lowercase">List_Pumps</span></div><div style="float:left"><a href="#pump-pump-collection-get" class="btn btn-xs btn-primary">GET</a></div><div style="overflow:hidden"><code>/pumps{?start,span}</code></div></div><ul class="list-group"><li class="list-group-item bg-default"><strong>Parameters</strong></li><li class="list-group-item"><dl class="dl-horizontal"><dt>start</dt><dd><code>number</code>&nbsp;<span>(optional)</span>&nbsp;<span class="text-info default"><strong>Default:&nbsp;</strong><span>1</span></span>&nbsp;<p>Numeric index of the first location to return in the response.</p>
</dd><dt>span</dt><dd><code>number</code>&nbsp;<span>(optional)</span>&nbsp;<span class="text-info default"><strong>Default:&nbsp;</strong><span>10</span></span>&nbsp;<p>Number of Station entries to return in the response.</p>
</dd></dl></li></ul><ul class="list-group"><li class="list-group-item"><strong>Request&nbsp;&nbsp;<code>/stations?start=1359;span=3</code></strong></li><li class="list-group-item"><strong>Response&nbsp;&nbsp;<code>200</code></strong><a data-toggle="collapse" data-target="#e8fde32d3a55a1e2a7812a0b7d78586e" class="pull-right collapsed"><span class="closed">Show</span><span class="open">Hide</span></a></li><li id="e8fde32d3a55a1e2a7812a0b7d78586e" class="list-group-item panel-collapse collapse"><h5>Headers</h5><pre><code><span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/prs.com.ociweb.demo.carma+json; profile=http://oci-labs.github.io/carma-api/schemas/collection.json</span><br></code></pre><h5>Body</h5><pre><code>{ "<span class="hljs-attribute">data</span>": <span class="hljs-value">[ { "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"p1359"</span></span>, "<span class="hljs-attribute">stationid</span>": <span class="hljs-value"><span class="hljs-string">"s007"</span> </span>},
            { "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"p1360"</span></span>, "<span class="hljs-attribute">stationid</span>": <span class="hljs-value"><span class="hljs-string">"s485"</span> </span>},
            { "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"p1361"</span></span>, "<span class="hljs-attribute">stationid</span>": <span class="hljs-value"><span class="hljs-string">"s043"</span> </span>}
]</span>}
</code></pre></li><li class="list-group-item"><strong>Response&nbsp;&nbsp;<code>204</code></strong></li></ul></section><h4 id="pump-pumps-search">Pumps Search&nbsp;<a href="#pump-pumps-search"><i class="fa fa-link"></i></a></h4><p>Search for pumps.  This returns a list of pumps which meet the criteria
supplied by the <code>query</code> parameter.  Search results consist of an array of
individual pump information, not a simple list of <code>pumpid</code> values.</p>
<section id="pump-pumps-search-get" class="panel panel-info"><div class="panel-heading"><div style="float:right"><span style="text-transform: lowercase">Search_Pumps</span></div><div style="float:left"><a href="#pump-pumps-search-get" class="btn btn-xs btn-primary">GET</a></div><div style="overflow:hidden"><code>/search/pumps{?query}</code></div></div><ul class="list-group"><li class="list-group-item bg-default"><strong>Parameters</strong></li><li class="list-group-item"><dl class="dl-horizontal"><dt>query</dt><dd><code>string</code>&nbsp;<span class="required">(required)</span>&nbsp;<span class="text-muted example"><strong>Example:&nbsp;</strong><span>stationid==s007</span></span><p>Query parameter for search.</p>
</dd></dl></li></ul><ul class="list-group"><li class="list-group-item"><strong>Request&nbsp;&nbsp;<code>/stations?query=stationid=s007</code></strong></li><li class="list-group-item"><strong>Response&nbsp;&nbsp;<code>200</code></strong><a data-toggle="collapse" data-target="#52387e725f17ffa5d06c7f086fea5609" class="pull-right collapsed"><span class="closed">Show</span><span class="open">Hide</span></a></li><li id="52387e725f17ffa5d06c7f086fea5609" class="list-group-item panel-collapse collapse"><h5>Headers</h5><pre><code><span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/prs.com.ociweb.demo.carma+json; profile=http://oci-labs.github.io/carma-api/schemas/collection.json</span><br></code></pre><h5>Body</h5><pre><code>{ "<span class="hljs-attribute">data</span>": <span class="hljs-value">[ { "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"p0631"</span></span>, "<span class="hljs-attribute">stationid</span>": <span class="hljs-value"><span class="hljs-string">"s007"</span> </span>},
            { "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"p0849"</span></span>, "<span class="hljs-attribute">stationid</span>": <span class="hljs-value"><span class="hljs-string">"s007"</span> </span>},
            { "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"p1359"</span></span>, "<span class="hljs-attribute">stationid</span>": <span class="hljs-value"><span class="hljs-string">"s007"</span> </span>},
            { "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"p1775"</span></span>, "<span class="hljs-attribute">stationid</span>": <span class="hljs-value"><span class="hljs-string">"s007"</span> </span>},
            { "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"p2589"</span></span>, "<span class="hljs-attribute">stationid</span>": <span class="hljs-value"><span class="hljs-string">"s007"</span> </span>},
            { "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"p2670"</span></span>, "<span class="hljs-attribute">stationid</span>": <span class="hljs-value"><span class="hljs-string">"s007"</span> </span>},
            { "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"p3857"</span></span>, "<span class="hljs-attribute">stationid</span>": <span class="hljs-value"><span class="hljs-string">"s007"</span> </span>},
            { "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"p3927"</span></span>, "<span class="hljs-attribute">stationid</span>": <span class="hljs-value"><span class="hljs-string">"s007"</span> </span>},
            { "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"p5119"</span></span>, "<span class="hljs-attribute">stationid</span>": <span class="hljs-value"><span class="hljs-string">"s007"</span> </span>},
            { "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"p5570"</span></span>, "<span class="hljs-attribute">stationid</span>": <span class="hljs-value"><span class="hljs-string">"s007"</span> </span>},
            { "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"p6126"</span></span>, "<span class="hljs-attribute">stationid</span>": <span class="hljs-value"><span class="hljs-string">"s007"</span> </span>},
            { "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"p6885"</span></span>, "<span class="hljs-attribute">stationid</span>": <span class="hljs-value"><span class="hljs-string">"s007"</span> </span>}
]</span>}
</code></pre></li><li class="list-group-item"><strong>Response&nbsp;&nbsp;<code>204</code></strong></li></ul></section><h4 id="pump-pump">Pump&nbsp;<a href="#pump-pump"><i class="fa fa-link"></i></a></h4><p>Obtain the information for a single pump.</p>
<section id="pump-pump-get" class="panel panel-info"><div class="panel-heading"><div style="float:right"><span style="text-transform: lowercase">List_single_Pump</span></div><div style="float:left"><a href="#pump-pump-get" class="btn btn-xs btn-primary">GET</a></div><div style="overflow:hidden"><code>/pumps/{pumpid}</code></div></div><ul class="list-group"><li class="list-group-item bg-default"><strong>Parameters</strong></li><li class="list-group-item"><dl class="dl-horizontal"><dt>pumpid</dt><dd><code>string</code>&nbsp;<span class="required">(required)</span>&nbsp;<span class="text-muted example"><strong>Example:&nbsp;</strong><span>p1775</span></span><p>Unique identfier for the pump.</p>
</dd></dl></li></ul><ul class="list-group"><li class="list-group-item"><strong>Request&nbsp;&nbsp;<code>/pumps/p1775</code></strong></li><li class="list-group-item"><strong>Response&nbsp;&nbsp;<code>200</code></strong><a data-toggle="collapse" data-target="#ae1549ca0d484121fcd5bb1fc353ba29" class="pull-right collapsed"><span class="closed">Show</span><span class="open">Hide</span></a></li><li id="ae1549ca0d484121fcd5bb1fc353ba29" class="list-group-item panel-collapse collapse"><h5>Headers</h5><pre><code><span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/prs.com.ociweb.demo.carma+json; profile=http://oci-labs.github.io/carma-api/schemas/pump.json</span><br></code></pre><h5>Body</h5><pre><code>{ "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"p1775"</span></span>,
  "<span class="hljs-attribute">stationid</span>": <span class="hljs-value"><span class="hljs-string">"s007"</span>
</span>}
</code></pre></li><li class="list-group-item"><strong>Response&nbsp;&nbsp;<code>200</code></strong></li><li class="list-group-item"><strong>Response&nbsp;&nbsp;<code>404</code></strong></li></ul></section><h4 id="pump-pump-revenue">Pump Revenue&nbsp;<a href="#pump-pump-revenue"><i class="fa fa-link"></i></a></h4><p>Pump revenue is the amount of revenue collected from transactions at a
single pump.  The returned information includes the revenue obtained from
the named pump during the supplied interval.  If no interval is supplied,
then all revenue from the pump will be reported.  If the <code>fuel</code> parameter
is supplied, then the revenue is reported for each fuel named in the
parameter as a separate value.</p>
<section id="pump-pump-revenue-get" class="panel panel-info"><div class="panel-heading"><div style="float:right"><span style="text-transform: lowercase">List_Pump_Revenue</span></div><div style="float:left"><a href="#pump-pump-revenue-get" class="btn btn-xs btn-primary">GET</a></div><div style="overflow:hidden"><code>/pumps/{pumpid}/revenue{?from,to,fuel}</code></div></div><ul class="list-group"><li class="list-group-item bg-default"><strong>Parameters</strong></li><li class="list-group-item"><dl class="dl-horizontal"><dt>from</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<span class="text-info default"><strong>Default:&nbsp;</strong><span>first</span></span>&nbsp;<p>date string for the start of the period to collect revenue.</p>
</dd><dt>to</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<span class="text-info default"><strong>Default:&nbsp;</strong><span>today</span></span>&nbsp;<p>date string for the end of the period to collect revenue.</p>
</dd><dt>fuel</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<span class="text-info default"><strong>Default:&nbsp;</strong><span>all</span></span>&nbsp;<p>selection of one or more fuels to gather revenue amounts for.</p>
</dd></dl></li></ul><ul class="list-group"><li class="list-group-item"><strong>Request&nbsp;&nbsp;<code>/pumps/p1775/revenue?from=last%20week;to=today;fuel=regular</code></strong></li><li class="list-group-item"><strong>Response&nbsp;&nbsp;<code>200</code></strong><a data-toggle="collapse" data-target="#25bc106410928e8c359438eeadfdaf69" class="pull-right collapsed"><span class="closed">Show</span><span class="open">Hide</span></a></li><li id="25bc106410928e8c359438eeadfdaf69" class="list-group-item panel-collapse collapse"><h5>Headers</h5><pre><code><span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/prs.com.ociweb.demo.carma+json; profile=http://oci-labs.github.io/carma-api/schemas/revenue.json</span><br></code></pre><h5>Body</h5><pre><code>{
  "<span class="hljs-attribute">scope</span>": <span class="hljs-value"><span class="hljs-string">"pump"</span></span>,
  "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"p1775"</span></span>,
  "<span class="hljs-attribute">fuel</span>": <span class="hljs-value"><span class="hljs-string">"regular"</span></span>,
  "<span class="hljs-attribute">from</span>": <span class="hljs-value"><span class="hljs-string">"1440020024"</span></span>,
  "<span class="hljs-attribute">to</span>": <span class="hljs-value"><span class="hljs-string">"1440624832"</span></span>,
  "<span class="hljs-attribute">amount</span>": <span class="hljs-value"><span class="hljs-string">"2375.25"</span>
</span>}
</code></pre></li><li class="list-group-item"><strong>Response&nbsp;&nbsp;<code>204</code></strong></li><li class="list-group-item"><strong>Response&nbsp;&nbsp;<code>404</code></strong></li></ul></section><h4 id="pump-pump-events">Pump Events&nbsp;<a href="#pump-pump-events"><i class="fa fa-link"></i></a></h4><p>Pump events are a time series of different event types.  If no <code>from</code> or
<code>to</code> parameter is supplied then all events stored for a pump are
returned.  If the <code>type</code> parameter is supplied the returned list contains
only events of the types included in the parameter value.</p>
<section id="pump-pump-events-get" class="panel panel-info"><div class="panel-heading"><div style="float:right"><span style="text-transform: lowercase">List_Pump_Events</span></div><div style="float:left"><a href="#pump-pump-events-get" class="btn btn-xs btn-primary">GET</a></div><div style="overflow:hidden"><code>/pumps/{pumpid}/events{?from,to,type}</code></div></div><ul class="list-group"><li class="list-group-item bg-default"><strong>Parameters</strong></li><li class="list-group-item"><dl class="dl-horizontal"><dt>from</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<span class="text-info default"><strong>Default:&nbsp;</strong><span>first</span></span>&nbsp;<p>date string for the start of the period to report events.</p>
</dd><dt>to</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<span class="text-info default"><strong>Default:&nbsp;</strong><span>today</span></span>&nbsp;<p>date string for the end of the period to report events.</p>
</dd><dt>type</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<span class="text-info default"><strong>Default:&nbsp;</strong><span>all</span></span>&nbsp;<p>selection of one or more event types to report events for.</p>
</dd></dl></li></ul><ul class="list-group"><li class="list-group-item"><strong>Request&nbsp;&nbsp;<code>/pumps/p0849/events?from=last%20week;to=today;type=all</code></strong></li><li class="list-group-item"><strong>Response&nbsp;&nbsp;<code>200</code></strong><a data-toggle="collapse" data-target="#e3fbfa49dcee9f858b47190388cfbdb6" class="pull-right collapsed"><span class="closed">Show</span><span class="open">Hide</span></a></li><li id="e3fbfa49dcee9f858b47190388cfbdb6" class="list-group-item panel-collapse collapse"><h5>Headers</h5><pre><code><span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/prs.com.ociweb.demo.carma+json; profile=http://oci-labs.github.io/carma-api/schemas/event.json</span><br></code></pre><h5>Body</h5><pre><code>{
  "<span class="hljs-attribute">scope</span>": <span class="hljs-value"><span class="hljs-string">"pump"</span></span>,
  "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"p0849"</span></span>,
  "<span class="hljs-attribute">events</span>": <span class="hljs-value">[
    { "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"pumpfail"</span></span>, "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"p0849"</span></span>, "<span class="hljs-attribute">when</span>": <span class="hljs-value"><span class="hljs-string">"1440019521"</span> </span>},
    { "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"pumpactive"</span></span>, "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"p0849"</span></span>, "<span class="hljs-attribute">when</span>": <span class="hljs-value"><span class="hljs-string">"1440278764"</span> </span>}
  ]
</span>}
</code></pre></li><li class="list-group-item"><strong>Response&nbsp;&nbsp;<code>204</code></strong></li><li class="list-group-item"><strong>Response&nbsp;&nbsp;<code>404</code></strong></li></ul></section></div></div></div><div><div class="panel panel-default"><div class="panel-heading"><h3 id="tank">Tank&nbsp;<a href="#tank"><i class="fa fa-link"></i></a></h3></div><div class="panel-body"><p>These resource identifiers represent information about the tank resources
of the corporation.  Each tank includes information about the fuel type
it holds and its current level.  The tanks size is also included.  A list
of events for a tank can be obtained.  These events can be historical or
future projections.</p>
<p>Events which can occur at a tank include the following:</p>
<ul>
<li><p>tankfail - a tank has been detected as operating outside of required constraints</p></li>
<li><p>tankactive  - a tank is returned to service within required constraints</p></li>
<li><p>tankinactive  - a tank is removed from service due to scheduled maintenance</p></li>
<li><p>tankfill  - a tank has been filled at the station</p></li>
</ul>
<h4 id="tank-tank-collection">Tank Collection&nbsp;<a href="#tank-tank-collection"><i class="fa fa-link"></i></a></h4><p>Obtain a list of all tanks in the corporation.  This is a paged URI that
can be used to obtain the entire set of information in groups of <code>span</code>
parameter values.  If no parameters are supplied, then all tanks are
returned.</p>
<section id="tank-tank-collection-get" class="panel panel-info"><div class="panel-heading"><div style="float:right"><span style="text-transform: lowercase">List_Tanks</span></div><div style="float:left"><a href="#tank-tank-collection-get" class="btn btn-xs btn-primary">GET</a></div><div style="overflow:hidden"><code>/tanks{?start,span}</code></div></div><ul class="list-group"><li class="list-group-item bg-default"><strong>Parameters</strong></li><li class="list-group-item"><dl class="dl-horizontal"><dt>start</dt><dd><code>number</code>&nbsp;<span>(optional)</span>&nbsp;<span class="text-info default"><strong>Default:&nbsp;</strong><span>1</span></span>&nbsp;<p>Numeric index of the first location to return in the response.</p>
</dd><dt>span</dt><dd><code>number</code>&nbsp;<span>(optional)</span>&nbsp;<span class="text-info default"><strong>Default:&nbsp;</strong><span>10</span></span>&nbsp;<p>Number of Station entries to return in the response.</p>
</dd></dl></li></ul><ul class="list-group"><li class="list-group-item"><strong>Request&nbsp;&nbsp;<code>/tanks?start=21;span=3</code></strong></li><li class="list-group-item"><strong>Response&nbsp;&nbsp;<code>200</code></strong><a data-toggle="collapse" data-target="#0e3f7e09981f15dca29e6eee99844727" class="pull-right collapsed"><span class="closed">Show</span><span class="open">Hide</span></a></li><li id="0e3f7e09981f15dca29e6eee99844727" class="list-group-item panel-collapse collapse"><h5>Headers</h5><pre><code><span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/prs.com.ociweb.demo.carma+json; profile=http://oci-labs.github.io/carma-api/schemas/collection.json</span><br></code></pre><h5>Body</h5><pre><code>{ "<span class="hljs-attribute">data</span>": <span class="hljs-value">[ { "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"t0021"</span></span>, "<span class="hljs-attribute">stationid</span>": <span class="hljs-value"><span class="hljs-string">"s007"</span></span>, "<span class="hljs-attribute">fuel</span>": <span class="hljs-value"><span class="hljs-string">"regular"</span></span>, "<span class="hljs-attribute">capacity</span>": <span class="hljs-value"><span class="hljs-string">"20000"</span> </span>},
            { "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"t0022"</span></span>, "<span class="hljs-attribute">stationid</span>": <span class="hljs-value"><span class="hljs-string">"s007"</span></span>, "<span class="hljs-attribute">fuel</span>": <span class="hljs-value"><span class="hljs-string">"premium"</span></span>, "<span class="hljs-attribute">capacity</span>": <span class="hljs-value"><span class="hljs-string">"20000"</span> </span>},
            { "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"t0023"</span></span>, "<span class="hljs-attribute">stationid</span>": <span class="hljs-value"><span class="hljs-string">"s007"</span></span>, "<span class="hljs-attribute">fuel</span>": <span class="hljs-value"><span class="hljs-string">"diesel"</span></span>,  "<span class="hljs-attribute">capacity</span>": <span class="hljs-value"><span class="hljs-string">"16000"</span> </span>}
]</span>}
</code></pre></li><li class="list-group-item"><strong>Response&nbsp;&nbsp;<code>200</code></strong></li><li class="list-group-item"><strong>Response&nbsp;&nbsp;<code>204</code></strong></li></ul></section><h4 id="tank-tanks-search">Tanks Search&nbsp;<a href="#tank-tanks-search"><i class="fa fa-link"></i></a></h4><p>Search for tanks.  This returns a list of tanks which meet the criteria
supplied by the <code>query</code> parameter.  Search results consist of an array of
individual tank information, not a simple list of <code>tankid</code> values.</p>
<section id="tank-tanks-search-get" class="panel panel-info"><div class="panel-heading"><div style="float:right"><span style="text-transform: lowercase">Search_Tanks</span></div><div style="float:left"><a href="#tank-tanks-search-get" class="btn btn-xs btn-primary">GET</a></div><div style="overflow:hidden"><code>/search/tanks{?query}</code></div></div><ul class="list-group"><li class="list-group-item bg-default"><strong>Parameters</strong></li><li class="list-group-item"><dl class="dl-horizontal"><dt>query</dt><dd><code>string</code>&nbsp;<span class="required">(required)</span>&nbsp;<span class="text-muted example"><strong>Example:&nbsp;</strong><span>stationid==&quot;s007&quot;&amp;&amp;fuel==&quot;diesel&quot;</span></span><p>Query parameter for search.</p>
</dd></dl></li></ul><ul class="list-group"><li class="list-group-item"><strong>Request&nbsp;&nbsp;<code>/search/tanks?query=id==t0022</code></strong></li><li class="list-group-item"><strong>Response&nbsp;&nbsp;<code>200</code></strong><a data-toggle="collapse" data-target="#71de82e50eba6b6f66ef1b5e075279b4" class="pull-right collapsed"><span class="closed">Show</span><span class="open">Hide</span></a></li><li id="71de82e50eba6b6f66ef1b5e075279b4" class="list-group-item panel-collapse collapse"><h5>Headers</h5><pre><code><span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/prs.com.ociweb.demo.carma+json; profile=http://oci-labs.github.io/carma-api/schemas/collection.json</span><br></code></pre><h5>Body</h5><pre><code>{ "<span class="hljs-attribute">data</span>": <span class="hljs-value">[ { "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"t0022"</span></span>, "<span class="hljs-attribute">stationid</span>": <span class="hljs-value"><span class="hljs-string">"s007"</span></span>, "<span class="hljs-attribute">fuel</span>": <span class="hljs-value"><span class="hljs-string">"premium"</span></span>, "<span class="hljs-attribute">capacity</span>": <span class="hljs-value"><span class="hljs-string">"20000"</span> </span>}
]</span>}
</code></pre></li><li class="list-group-item"><strong>Response&nbsp;&nbsp;<code>204</code></strong></li></ul></section><h4 id="tank-tank">Tank&nbsp;<a href="#tank-tank"><i class="fa fa-link"></i></a></h4><p>Obtain the information for a single tank.</p>
<section id="tank-tank-get" class="panel panel-info"><div class="panel-heading"><div style="float:right"><span style="text-transform: lowercase">Get_tank</span></div><div style="float:left"><a href="#tank-tank-get" class="btn btn-xs btn-primary">GET</a></div><div style="overflow:hidden"><code>/tanks/{tankid}</code></div></div><ul class="list-group"><li class="list-group-item bg-default"><strong>Parameters</strong></li><li class="list-group-item"><dl class="dl-horizontal"><dt>tankid</dt><dd><code>string</code>&nbsp;<span class="required">(required)</span>&nbsp;<span class="text-muted example"><strong>Example:&nbsp;</strong><span>t0022</span></span><p>Unique identfier for the tank.</p>
</dd></dl></li></ul><ul class="list-group"><li class="list-group-item"><strong>Request&nbsp;&nbsp;<code>/tanks/t0022</code></strong></li><li class="list-group-item"><strong>Response&nbsp;&nbsp;<code>200</code></strong><a data-toggle="collapse" data-target="#b1870a9f347bf28bcdeb8d83c5916300" class="pull-right collapsed"><span class="closed">Show</span><span class="open">Hide</span></a></li><li id="b1870a9f347bf28bcdeb8d83c5916300" class="list-group-item panel-collapse collapse"><h5>Headers</h5><pre><code><span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/prs.com.ociweb.demo.carma+json; profile=http://oci-labs.github.io/carma-api/schemas/tank.json</span><br></code></pre><h5>Body</h5><pre><code>{ <span class="hljs-string">"id"</span>: <span class="hljs-string">"t0022"</span>,
  <span class="hljs-string">"stationid"</span>: <span class="hljs-string">"s007"</span>,
  <span class="hljs-string">"fuel"</span>: <span class="hljs-string">"premium"</span>,
  <span class="hljs-string">"capacity"</span>: <span class="hljs-string">"20000"</span>
},
</code></pre></li><li class="list-group-item"><strong>Response&nbsp;&nbsp;<code>404</code></strong></li></ul></section><h4 id="tank-tank-events">Tank Events&nbsp;<a href="#tank-tank-events"><i class="fa fa-link"></i></a></h4><p>Tank events are a time series of different event types.  If no <code>from</code> or
<code>to</code> parameter is supplied, then all events stored for a tank are
returned.  If the <code>type</code> parameter is supplied, the returned list
provides only the event types included for that parameter.</p>
<section id="tank-tank-events-get" class="panel panel-info"><div class="panel-heading"><div style="float:right"><span style="text-transform: lowercase">List_Tank_Events</span></div><div style="float:left"><a href="#tank-tank-events-get" class="btn btn-xs btn-primary">GET</a></div><div style="overflow:hidden"><code>/tanks/{tankid}/events{?from,to,type}</code></div></div><ul class="list-group"><li class="list-group-item bg-default"><strong>Parameters</strong></li><li class="list-group-item"><dl class="dl-horizontal"><dt>from</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<span class="text-info default"><strong>Default:&nbsp;</strong><span>first</span></span>&nbsp;<p>date string for the start of the period to report events.</p>
</dd><dt>to</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<span class="text-info default"><strong>Default:&nbsp;</strong><span>today</span></span>&nbsp;<p>date string for the end of the period to report events.</p>
</dd><dt>type</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<span class="text-info default"><strong>Default:&nbsp;</strong><span>all</span></span>&nbsp;<p>selection of one or more event types to report events for.</p>
</dd></dl></li></ul><ul class="list-group"><li class="list-group-item"><strong>Request&nbsp;&nbsp;<code>/tanks/t0022/events?from=last%20week;to=today;type=all</code></strong></li><li class="list-group-item"><strong>Response&nbsp;&nbsp;<code>200</code></strong><a data-toggle="collapse" data-target="#434db7ce3c790e3ffb3da813649c10c8" class="pull-right collapsed"><span class="closed">Show</span><span class="open">Hide</span></a></li><li id="434db7ce3c790e3ffb3da813649c10c8" class="list-group-item panel-collapse collapse"><h5>Headers</h5><pre><code><span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/prs.com.ociweb.demo.carma+json; profile=http://oci-labs.github.io/carma-api/schemas/event.json</span><br></code></pre><h5>Body</h5><pre><code>{
  "<span class="hljs-attribute">scope</span>": <span class="hljs-value"><span class="hljs-string">"tank"</span></span>,
  "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"t0022"</span></span>,
  "<span class="hljs-attribute">events</span>": <span class="hljs-value">[
    { "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"tankfill"</span></span>, "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"t0022"</span></span>, "<span class="hljs-attribute">when</span>": <span class="hljs-value"><span class="hljs-string">"1440392400"</span> </span>}
  ]
</span>}
</code></pre></li><li class="list-group-item"><strong>Response&nbsp;&nbsp;<code>204</code></strong></li><li class="list-group-item"><strong>Response&nbsp;&nbsp;<code>404</code></strong></li></ul></section></div></div></div></div></div></div><p style="text-align: center;" class="text-muted">Generated by&nbsp;<a href="https://github.com/danielgtaylor/aglio" class="aglio">aglio</a>&nbsp;on 27 Aug 2015</p><div id="localFile" style="display: none; position: absolute; top: 0; left: 0; width: 100%; color: white; background: red; font-size: 150%; text-align: center; padding: 1em;">This page may not display correctly when opened as a local file. Instead, view it from a web server.

</div></body><script src="//code.jquery.com/jquery-1.11.0.min.js"></script><script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script><script>(function() {
  if (location.protocol === 'file:') {
    document.getElementById('localFile').style.display = 'block';
  }

}).call(this);
</script><script>(function() {
  $('table').addClass('table');

}).call(this);
</script></html>